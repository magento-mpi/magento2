<?php
/**
 * {license_notice}
 *
 * @package     Magento_Core
 * @copyright   {copyright}
 * @license     {license_link}
 */
?>

<link rel="stylesheet" type="text/css" href="<?php echo $this->getViewFileUrl('Magento_Core::prototype/magento.css') ?>"/>
<link rel="stylesheet" type="text/css" href="<?php echo $this->getViewFileUrl('mage/translate-inline.css') ?>"/>
<script type="text/javascript" src="<?php echo $this->getViewFileUrl('mage/edit-trigger.js') ?>"></script>
<script type="text/javascript" src="<?php echo $this->getViewFileUrl('mage/translate-inline.js') ?>"></script>

<script id="translate-inline-icon" type="text/x-jQuery-tmpl">
    <span class="action translate"></span>
</script>
<script id="translate-form-template" type="text/x-jquery-tmpl">
    <form id="${id}">
        {{each(i, item) items}}
            <div class="data table translate"><table cellspacing="0">
                {{each item}}
                <tr>
                    <th class="label" style="text-transform: capitalize;">${$index}:</th>
                    <td class="value">${$value}</td>
                </tr>
                {{/each}}
                <tr>
                    <th class="label"><label for="custom_${i}">Custom:</label></th>
                    <td class="value">
                        <input name="translate[${i}][original]" type="hidden" value="${item.scope}::${escape(item.original)}"/>
                        <input id="custom_${i}" name="translate[${i}][custom]" class="input-text" value="${escape(item.translated)}" />
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <label for="perstore_${i}"><input id="perstore_${i}" name="translate[${i}][perstore]" type="checkbox" value="1"/> Store View Specific</label>
                    </td>
                </tr>
            </table></div>
        {{/each}}
    </form>
    {{if message}}<p class="a-center accent">${message}</p>{{/if}}
</script>

<div data-role="translate-dialog" data-mage-init='{"translateInline":{"ajaxUrl":"<?php echo $this->getAjaxUrl() ?>"}, "loader": {}}'></div>
<script type="text/javascript">
    (function($){
        $('body').editTrigger({alwaysShown:true, singleElement:false}).addClass('trnslate-inline-area');
    })(jQuery);
</script>
