<?php
/**
 * {license_notice}
 *
 * @copyright   {copyright}
 * @license     {license_link}
 */
?>
<?php
/** @var Magento\Rma\Block\Adminhtml\Rma\Edit\Js $this */
?>
<script type="text/javascript">
//<![CDATA[
require(['prototype', 'Magento_Rma/rma'], function() {
    jQuery(document).ready(function() {
        rma.setLoadAttributesUrl('<?php echo $this->getLoadAttributesUrl() ?>');
        rma.setLoadSplitLineUrl('<?php echo $this->getLoadSplitLineUrl() ?>');
        rma.setDeleteLineLabel('<?php echo __('Delete Line') ?>');
        $$('a.item_details').each(function (obj) {
            obj.observe('click', rma.itemDetailsRowClick.bind(rma))
        });
        $$('a.item_split_line').each(function (obj) {
            obj.observe('click', rma.itemSplitLineRowClick.bind(rma))
        });
        $$('a.item_reason_other').each(function (obj) {
            obj.observe('click', rma.itemReasonOtherRowClick.bind(rma))
        });
        rma.setFormKey('<?php echo $this->getFormKey(); ?>');
        rma.setLoadShippingMethodsUrl('<?php echo $this->getLoadShippingMethodsUrl() ?>');
        rma.setLoadPslUrl('<?php echo $this->getLoadPslUrl() ?>');
        if ($('get-shipping-method-and-rates')) {
            $('get-shipping-method-and-rates').observe('click', rma.showShippingMethods.bind(rma));
        }
        $$('input.rowId').each(function (el, val) {
            rma.getAjaxData($(el).value, true);
        });
        rma.callLoadProductsCallback();
    })
});
//]]>
</script>
