<script data-mage-init='{ "Magento_Ui/js/initializer/main": "" }' type="application/json">
    {
        "providers": {
            "customer_form_data": {
                "path": "Magento_Ui/js/form/provider/provider",
                "meta": {
                    "customer": {
                        "website": {
                            "index": "website",
                            "data_type": "text",
                            "input_type": "select",
                            "label": "Associate to Website",
                            "caption": "Please select ...",
                            "required": true,
                            "options": {
                                "0": "Admin",
                                "1": "Main Website"
                            }
                        },
                        "gender": {
                            "index": "gender",
                            "data_type": "text",
                            "input_type": "select",
                            "label": "Gender",
                            "caption": "Please select ...",
                            "required": true,
                            "options": {
                                "0": "Male",
                                "1": "Female"
                            }
                        },
                        "prefix": {
                            "index": "prefix",
                            "data_type": "text",
                            "input_type": "input",
                            "label": "Prefix"
                        },
                        "firstname": {
                            "index": "firstname",
                            "data_type": "text",
                            "input_type": "input",
                            "label": "First Name",
                            "required": true
                        },
                        "middle_name": {
                            "index": "middle_name",
                            "data_type": "text",
                            "input_type": "input",
                            "label": "Middle Name/Initial"
                        },
                        "lastname": {
                            "index": "lastname",
                            "data_type": "text",
                            "input_type": "input",
                            "label": "Last Name",
                            "required": true
                        },
                        "suffix": {
                            "index": "suffix",
                            "data_type": "text",
                            "input_type": "input",
                            "label": "Suffix"
                        },
                        "email": {
                            "index": "email",
                            "data_type": "text",
                            "input_type": "email",
                            "label": "Email Address",
                            "required": true
                        },
                        "taxvat": {
                            "index": "taxvat",
                            "data_type": "text",
                            "input_type": "input",
                            "label": "Tax/VAT Number"
                        },
                        "price": {
                            "index": "price",
                            "type": "price",
                            "data_type": "price",
                            "input_type": "price",
                            "currency_sign": "$",
                            "label": "Price / currency fireld"
                        },
                        "addresses": {
                            "meta_ref": "address"
                        }
                    },
                    "address": {
                        "template": "customer/form/address",
                        "input_type": "collection",
                        "title": "Edit Customer's Address",
                        "label": "New Customer Address",
                        "prefix": {
                            "index": "prefix",
                            "data_type": "text",
                            "input_type": "input",
                            "label": "Prefix"
                        },
                        "suffix": {
                            "index": "suffix",
                            "data_type": "text",
                            "input_type": "input",
                            "label": "Suffix"
                        },
                        "firstname": {
                            "index": "firstname",
                            "data_type": "text",
                            "input_type": "input",
                            "label": "First name"
                        }
                    }
                },
                "data": {
                    "customer": {
                        "prefix": "Mr.",
                        "website": 0,
                        "gender": 0,
                        "price": "123.45",
                        "addresses": [
                            {
                                "active": true,
                                "elements": {
                                    "prefix": "Mr.",
                                    "suffix": "Sr.",
                                    "firstname": "Misha"
                                }
                            },
                            {   
                                "active": false,
                                "elements": {
                                    "prefix": "Mr.",
                                    "suffix": "Sr.",
                                    "firstname": "Sasha"
                                }
                            }
                        ]
                    }
                }
            }
        },

        "components": {
            "customer_form_tabs": {
                "name": "customer_form_tabs",
                "path": "Magento_Ui/js/tab/group",
                "source": "customer_form_data",
                "config": {
                    "some_form_config": "blabla"
                }
            },
            "customer_form_areas": {
                "name": "customer_form_areas",
                "path": "Magento_Ui/js/area/area",
                "source": "customer_form_data",
                "config": {
                    "some_form_config": "blabla"
                }
            },
            "customer_form_fieldsets": {
                "name": "customer_form_fieldsets",
                "path": "Magento_Ui/js/fieldset/fieldset",
                "source": "customer_form_data",
                "config": {
                    "some_form_config": "blabla"
                }
            },
            "customer_form_form": {
                "name": "customer_form_form",
                "path": "Magento_Ui/js/form",
                "source": "customer_form_data"
            }
        },

        "layout": { 
            "customer_form_tabs": {
                "items": {
                    "cusomer_info": {
                        "label": "Customer Information",
                        "items": [
                            {
                                "name": "account_info",
                                "active": true,
                                "label": "Account Information"
                            },
                            {
                                "name": "customer_addresses",
                                "label": "Addresses"
                            }
                        ]
                    },
                    "col_group": {
                        "label": "Collapsible group",
                        "collapsible": true,
                        "items": [
                            {
                                "name": "prod_details",
                                "label": "Advanced Pricing"
                            },
                            {
                                "name": "col_options",
                                "label": "Custom Options"
                            },
                            {
                                "name": "auto_settings",
                                "label": "Autosettings"
                            }
                        ]
                    }
                }
            },
            "customer_form_areas": {
                "items": {
                    "account_info": {
                        "injections": [
                            "customer_form_fieldsets.account_info"
                        ]
                    },
                    "customer_addresses": {
                        "injections": [
                            "customer_form_fieldsets.customer_addresses"
                        ]
                    }
                }
            },
            "customer_form_fieldsets": {
                "items": {
                    "account_info": {
                        "label": "Account Information",
                        "injections": [
                            "customer.website",
                            "customer.prefix",
                            "customer.price",
                            "customer.firstname",
                            "customer.middle_name",
                            "customer.lastname",
                            "customer.suffix",
                            "customer.email",
                            "customer.taxvat",
                            "customer.gender"
                        ]
                    },
                    "customer_addresses": {
                        "label": "Customer Addresses",
                        "collapsible": true,
                        "injections": [
                            "customer.addresses"
                        ]
                    }
                }
            }
        }
    }
</script>
<script>
    var allowLocalCache = false;
</script>

<div data-bind="scope: 'customer_form_areas' " class="entry-edit form-inline">
    <form action="" method="post">
        
        <!-- ko foreach: elems -->
        <div data-bind="visible: visible">
            
            <!-- ko foreach: elems -->
                <!-- ko template: template --><!-- /ko -->
            <!-- /ko -->

        </div>
        <!-- /ko -->

    </form>
</div>