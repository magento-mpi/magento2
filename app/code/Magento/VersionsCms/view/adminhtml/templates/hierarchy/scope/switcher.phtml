<?php
/**
 * {license_notice}
 *
 * @copyright   {copyright}
 * @license     {license_link}
 */
?>
<?php /** @var $this \Magento\VersionsCms\Block\Adminhtml\Scope\Switcher */ ?>
<div class="store-switcher">
    <label for="store_switcher"><?php echo __('Choose Scope:') ?></label>
    <select id="store_switcher" class="system-config-store-switcher" onchange="return switchStore(this);">
        <?php foreach ($this->getStoreSelectOptions() as $_value => $_option): ?>
        <?php if (isset($_option['is_group'])): ?>
            <?php if ($_option['is_close']): ?>
                </optgroup>
                <?php else: ?>
            <optgroup label="<?php echo $_option['label'] ?>" style="<?php echo $_option['style'] ?>">
        <?php endif; ?>
            <?php continue ?>
            <?php endif; ?>
        <option value="<?php echo $_value ?>" url="<?php echo $_option['url'] ?>" <?php echo $_option['selected'] ? 'selected="selected"' : '' ?> style="<?php echo $_option['style'] ?>">
            <?php echo $_option['label'] ?>
        </option>
        <?php endforeach ?>
    </select>
</div>
<script type="text/javascript">
    function switchStore(obj)
    {
        if (confirm("<?php echo __("Please confirm site switching. You will lose all data that hasn't been saved.") ?>")) {
            setLocation(obj.options[obj.selectedIndex].getAttribute('url'));
            return true;
        }
        else {
            obj.value = '<?php echo $this->getDefaultValue() ?>';
        }
        return false;
    }
</script>
