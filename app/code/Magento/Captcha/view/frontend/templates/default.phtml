<?php
/**
 * {license_notice}
 *
 * @category    design
 * @copyright   {copyright}
 * @license     {license_link}
 */
?>
<?php /* @var $captcha \Magento\Captcha\Model\DefaultModel */ ?>
<?php /* @var $this \Magento\Captcha\Block\Captcha\DefaultCaptcha */ ?>
<?php $captcha = $this->getCaptchaModel() ?>
<div class="field captcha required" role="<?php echo $this->getFormId()?>">
    <label for="captcha_<?php echo $this->getFormId() ?>" class="label"><span><?php echo __('Please type the letters below')?></span></label>
    <div class="control captcha">
        <input name="<?php echo \Magento\Captcha\Helper\Data::INPUT_NAME_FIELD_VALUE ?>[<?php echo $this->getFormId()?>]" type="text" class="input-text required-entry" data-validate="{required:true}" id="captcha_<?php echo $this->getFormId() ?>" />
        <div class="nested">
            <div class="field captcha no-label" data-captcha="<?php echo $this->getFormId()?>" id="captcha-container-<?php echo $this->getFormId()?>">
                <div class="control captcha-image">
                    <button type="button" class="action reload captcha-reload" title="<?php echo __('Reload captcha') ?>"><span><?php echo __('Reload captcha') ?></span></button>
                    <img alt="<?php echo __('Please type the letters below')?>" class="captcha-img" height="<?php echo $this->getImgHeight() ?>" src="<?php echo $captcha->getImgSrc() ?>"/>
                    <?php if ($captcha->isCaseSensitive()) :?>
                    <div class="captcha-note note">
                        <?php echo __('<strong>Attention</strong>: Captcha is case sensitive.') ?>
                    </div>
                    <?php endif; ?>
                </div>
                <script type="text/javascript">//<![CDATA[
                (function ($) {
                    head.js("<?php echo $this->getViewFileUrl('Magento_Captcha::captcha.js') ?>",function() {
                        $('#captcha-container-<?php echo $this->getFormId()?>').captcha({
                            url: '<?php echo $this->getRefreshUrl()?>',
                            type: '<?php echo $this->getFormId() ?>'
                        });
                    });
                })(jQuery);
                //]]></script>
            </div>
        </div>
    </div>
</div>
