<?xml version="1.0"?>
<!--
/**
 * {license_notice}
 *
 * @copyright   {copyright}
 * @license     {license_link}
 */
-->
<config>
    <preference for="Magento_Authorization_Policy" type="Magento_Authorization_Policy_Acl" />
    <preference for="Magento_Authorization_RoleLocator" type="Magento_Webapi_Model_Authorization_RoleLocator" />
    <preference for="Magento_Webapi_Model_Acl_Resource_ProviderInterface" type="Magento_Webapi_Model_Acl_Resource_Provider"/>
    <type name="Magento_Acl_Builder">
        <param name="resourceLoader">
            <instance type="Magento_Webapi_Model_Authorization_Loader_Resource" />
        </param>
        <param name="roleLoader">
            <instance type="Magento_Webapi_Model_Authorization_Loader_Role" />
        </param>
        <param name="ruleLoader">
            <instance type="Magento_Webapi_Model_Authorization_Loader_Rule" />
        </param>
    </type>
    <type name="Magento_Webapi_Model_Acl_Builder">
        <param name="cache">
            <instance type="Magento_Webapi_Model_Acl_Cache" />
        </param>
        <param name="resourceLoader">
            <instance type="Magento_Webapi_Model_Authorization_Loader_Resource" />
        </param>
        <param name="roleLoader">
            <instance type="Magento_Webapi_Model_Authorization_Loader_Role" />
        </param>
        <param name="ruleLoader">
            <instance type="Magento_Webapi_Model_Authorization_Loader_Rule" />
        </param>
    </type>
    <type name="Magento_Webapi_Model_Authorization_Policy_Acl">
        <param name="aclBuilder">
            <instance type="Magento_Webapi_Model_Acl_Builder" />
        </param>
    </type>
    <type name="Magento_Webapi_Model_Acl_Cache">
        <param name="cacheKey">
            <value>api_acl_resources</value>
        </param>
    </type>
    <type name="Magento_Core_Model_Acl_RootResource">
        <param name="identifier">
            <value>Magento_Webapi</value>
        </param>
    </type>
    <type name="Magento_Webapi_Controller_Rest_Router_Route" shared="false" />
    <type name="Magento_Xml_Generator" shared="false" />
    <type name="Magento_Xml_Parser" shared="false" />
    <type name="Magento_Code_Scanner_DirectoryScanner" shared="false" />
    <type name="Magento_Server_Reflection" shared="false" />
    <type name="Magento_Webapi_Model_Authorization_Loader_Resource">
        <param name="resourceProvider">
            <instance type="Magento_Webapi_Model_Acl_Resource_Provider" />
        </param>
    </type>
    <type name="Magento_Webapi_Model_Acl_Resource_Provider">
        <param name="configReader">
            <instance type="Magento_Webapi_Model_Acl_Resource_Config_Reader_Filesystem" />
        </param>
    </type>
    <type name="Magento_Webapi_Model_Acl_Resource_Config_Reader_Filesystem">
        <param name="converter">
            <instance type="Magento_Webapi_Model_Acl_Resource_Config_Converter_Dom" />
        </param>
    </type>
</config>
