<?php
/**
 * {license_notice}
 *
 * @copyright   {copyright}
 * @license     {license_link}
 */
?>
<?php if ($this->getSearchResults() && $this->getSearchResults()->getSize()): ?>
<div class="block giftregistry results">
    <div class="title"><strong><?php echo __('Search Results') ?></strong></div>
    <div class="content">
        <div class="toolbar"><?php echo $this->getChildHtml('pager') ?></div>
        <div class="table-wrapper">
            <table class="data table" id="giftregistry-search-results">
                <caption class="table-caption"><?php echo __('Search Results') ?></caption>
                <thead>
                <tr>
                    <th class="col name" scope="col"><?php echo __('Name') ?></th>
                    <th class="col location" scope="col"><?php echo __('Location') ?></th>
                    <th class="col event" scope="col"><?php echo __('Event') ?></th>
                    <th class="col type" scope="col"><?php echo __('Type') ?></th>
                    <th class="col date" scope="col"><?php echo __('Event Date') ?></th>
                    <th class="col actions" scope="col"><?php echo __('Actions') ?></th>
                </tr>
                </thead>
                <tbody>
                <?php foreach($this->getSearchResults() as $item): ?>
                    <tr>
                        <td data-th="<?php echo $this->escapeHtml(__('Name')); ?>" class="col name"><?php echo $this->escapeHtml($item->getRegistrant()) ?></td>
                        <td data-th="<?php echo $this->escapeHtml(__('Location')); ?>" class="col location"><?php echo $this->escapeHtml($item->getEventLocation()) ?></td>
                        <td data-th="<?php echo $this->escapeHtml(__('Event')); ?>" class="col event"><?php echo $this->escapeHtml($item->getTitle()) ?></td>
                        <td data-th="<?php echo $this->escapeHtml(__('Type')); ?>" class="col type"><?php echo $this->escapeHtml($item->getType()) ?></td>
                        <td data-th="<?php echo $this->escapeHtml(__('Event Date')); ?>" class="col date"><?php echo $this->getFormattedDate($item) ?></td>
                        <td data-th="<?php echo $this->escapeHtml(__('Actions')); ?>" class="col actions"><a href="<?php echo $this->getRegistryLink($item) ?>" title="<?php echo __('View') ?>"><?php echo __('View') ?></a></td>
                    </tr>
                <?php endforeach; ?>
                </tbody>
            </table>
        </div>
        <div class="toolbar"><?php echo $this->getChildHtml('pager') ?></div>
    </div>
</div>
<?php else: ?>
    <div class="message error"><div><?php echo __('Your search returned no results.') ?></div></div>
<?php endif; ?>
