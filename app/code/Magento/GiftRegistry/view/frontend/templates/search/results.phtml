<?php
/**
 * {license_notice}
 *
 * @copyright   {copyright}
 * @license     {license_link}
 */
?>
<?php if ($this->getSearchResults() && $this->getSearchResults()->getSize()): ?>
<div class="block block-giftregistry-results">
    <div class="block-title"><strong><?php echo __('Search Results') ?></strong></div>
    <div class="block-content">
        <div class="table-wrapper">
            <table class="data table" id="giftregistry-search-results">
                <caption class="table-caption"><?php echo __('Search Results') ?></caption>
                <thead>
                <tr>
                    <th class="col name" scope="col"><?php echo __('Name') ?></th>
                    <th class="col location" scope="col"><?php echo __('Location') ?></th>
                    <th class="col event" scope="col"><?php echo __('Event') ?></th>
                    <th class="col type" scope="col"><?php echo __('Type') ?></th>
                    <th class="col date" scope="col"><?php echo __('Event Date') ?></th>
                    <th class="col actions" scope="col"><?php echo __('Actions') ?></th>
                </tr>
                </thead>
                <tbody>
                <?php foreach($this->getSearchResults() as $item): ?>
                    <tr>
                        <td class="col name" data-th="<?php echo $this->escapeHtml(__('Name')); ?>"><?php echo $this->escapeHtml($item->getRegistrant()) ?></td>
                        <td class="col location" data-th="<?php echo $this->escapeHtml(__('Location')); ?>"><?php echo $this->escapeHtml($item->getEventLocation()) ?></td>
                        <td class="col event" data-th="<?php echo $this->escapeHtml(__('Event')); ?>"><?php echo $this->escapeHtml($item->getTitle()) ?></td>
                        <td class="col type" data-th="<?php echo $this->escapeHtml(__('Type')); ?>"><?php echo $this->escapeHtml($item->getType()) ?></td>
                        <td class="col date" data-th="<?php echo $this->escapeHtml(__('Event Date')); ?>"><?php echo $this->getFormattedDate($item) ?></td>
                        <td class="col actions" data-th=""><a href="<?php echo $this->getRegistryLink($item) ?>" title="<?php echo __('View') ?>"><?php echo __('View') ?></a></td>
                    </tr>
                <?php endforeach; ?>
                </tbody>
            </table>
        </div>
        <?php if ($this->getChildHtml('pager')): ?>
        <div class="toolbar toolbar-giftregistry-results bottom"><?php echo $this->getChildHtml('pager') ?></div>
        <?php endif; ?>
    </div>
</div>
<?php else: ?>
    <div class="message error"><div><?php echo __('Your search returned no results.') ?></div></div>
<?php endif; ?>
