<?php
/**
 * {license_notice}
 *
 * @copyright   {copyright}
 * @license     {license_link}
 */
?>

<?php
/** @var \Magento\Pricing\Render\PriceBox $this */

/** @var \Magento\Catalog\Pricing\Price\TierPrice $tierPriceModel */
$tierPriceModel = $this->getPrice();
$tierPrices = $tierPriceModel->getApplicableTierPrices();

/** @var BasePrice $minPrice is a minimal available price */
$minPrice = $this->getPriceType(\Magento\Catalog\Pricing\Price\BasePrice::PRICE_TYPE_BASE_PRICE)->getValue();

?>

<?php if (count($tierPrices)) : ?>
    <ul class="<?php echo ($this->hasListClass() ? $this->getListClass() : 'prices tier items'); ?>">
    <?php foreach ($tierPrices as $index => $price) : ?>
        <li class="item">
            <?php
                /** @var \Magento\Catalog\Pricing\Price\TierPrice $tierPriceModel */
                $tierPriceModel = $this->getPriceType('tier_price', $price['price_qty']);

                echo __(
                    'Buy %1 for %2',
                    $price['price_qty'],
                    $this->renderAmount(
                        $tierPriceModel,
                        [
                            'price_id'          => $index,
                            'include_container' => true
                        ]
                    )
                );
            ?>&nbsp;<?php echo __('each') ?>
            <?php if ($this->getShowDetailedPrice() !== false && $minPrice > $tierPriceModel->getValue()): ?>
                <?php echo __('and') ?>&nbsp;<strong class="benefit">
                    <?php echo __('save')?>
                    <span class="percent hel tier-<?php echo $index ?>"><?php echo $price['savePercent']?></span>%
                </strong>
            <?php endif ?>
        </li>
    <?php endforeach; ?>
    </ul>
<?php endif; ?>
