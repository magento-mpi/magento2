<?php
/**
 * {license_notice}
 *
 * @copyright   {copyright}
 * @license     {license_link}
 */
?>
<?php
/**
 * Product list toolbar
 *
 * @var $this \Magento\Catalog\Block\Product\ProductList\Toolbar
 */
use \Magento\Catalog\Model\Product\ProductList\Toolbar;
?>
<?php if ($this->getCollection()->getSize()): ?>
<form class="toolbar products" action="<?php echo $this->getPagerUrl(); ?>" method="post">
    <div class="toolbar products">
        <?php if ($this->isExpanded()): ?>
        <div class="settings">
            <?php if ($this->isEnabledViewSwitcher()): ?>
            <div class="modes">
                <?php $_modes = $this->getModes(); ?>
                <?php if ($_modes && count($_modes) > 1): ?>
                <strong class="label"><?php echo __('View as') ?></strong>
                <?php foreach ($this->getModes() as $_code => $_label): ?>
                    <?php if ($this->isModeActive($_code)): ?>
                        <strong title="<?php echo $_label ?>"
                            class="mode active <?php echo strtolower($_code); ?>"
                            data-value="<?php echo strtolower($_code); ?>">
                            <span><?php echo $_label ?></span>
                        </strong>
                    <?php else: ?>
                        <a class="mode <?php echo strtolower($_code); ?>"
                           title="<?php echo $_label ?>"
                           href="#"
                           data-value="<?php echo strtolower($_code); ?>">
                            <span><?php echo $_label ?></span>
                        </a>
                        <?php endif; ?>
                    <?php endforeach; ?>

                <?php endif; ?>
            </div>
            <?php endif; ?>
            <div class="sorter">
                <label class="label" for="sorter"><?php echo __('Sort By') ?></label>
                <select id="sorter">
                    <?php foreach ($this->getAvailableOrders() as $_key => $_order): ?>
                        <option value="<?php echo $_key; ?>"
                            <?php if ($this->isOrderCurrent($_key)): ?>
                                selected="selected"
                            <?php endif; ?>
                            >
                            <?php echo __($_order) ?>
                        </option>
                    <?php endforeach; ?>
                </select>
                <?php if ($this->getCurrentDirection() == 'desc'): ?>
                    <a title="<?php echo __('Set Ascending Direction') ?>" href="#" class="action sort desc" data-value="desc">
                        <span><?php echo __('Set Ascending Direction') ?></span>
                    </a>
                <?php else: ?>
                    <a title="<?php echo __('Set Descending Direction') ?>" href="#" class="action sort asc" data-value="asc">
                        <span><?php echo __('Set Descending Direction') ?></span>
                    </a>
                <?php endif; ?>
            </div>
        </div>
        <?php endif; ?>
        <?php echo $this->getPagerHtml() ?>
        <div class="pager">
            <p class="amount">
                <?php if ($this->getLastPageNum() > 1): ?>
                    <?php echo __('Items %1-%2 of %3', $this->getFirstNum(), $this->getLastNum(), $this->getTotalNum()) ?>
                <?php elseif ($this->getLastPageNum() == 1): ?>
                    <?php echo __('%1 Item', $this->getTotalNum()) ?>
                <?php else: ?>
                    <?php echo __('%1 Item(s)', $this->getTotalNum()) ?>
                <?php endif; ?>
            </p>
            <div class="limiter">
                <strong class="label"><?php echo __('Show') ?></strong>
                <select id="limiter">
                    <?php foreach ($this->getAvailableLimit() as $_key => $_limit): ?>
                        <option value="<?php echo $_key ?>"<?php if ($this->isLimitCurrent($_key)): ?>
                            selected="selected"<?php endif ?>>
                            <?php echo $_limit ?>
                        </option>
                    <?php endforeach; ?>
                </select>
                <span class="text"><?php echo __('per page') ?></span>
            </div>
        </div>
    </div>
    <input name="<?php echo \Magento\App\Action\Action::PARAM_NAME_URL_ENCODED; ?>"
           value="<?php echo $this->getPagerEncodedUrl(); ?>" style="display: none;" />
</form>
<?php endif ?>
<script type="text/javascript">
    //<![CDATA[
    (function ($) {
        head.js("<?php echo $this->getViewFileUrl('Magento_Catalog::js/product/list/toolbar.js')?>", function () {
            $('form.toolbar.products').productListToolbarForm({
                modeCookie: "<?php echo Toolbar::MODE_COOKIE_NAME ?>",
                directionCookie: "<?php echo Toolbar::DIRECTION_COOKIE_NAME ?>",
                orderCookie: "<?php echo Toolbar::ORDER_COOKIE_NAME ?>",
                limitCookie: "<?php echo Toolbar::LIMIT_COOKIE_NAME ?>"
            });
        });
    })(jQuery);
    //]]>
</script>
