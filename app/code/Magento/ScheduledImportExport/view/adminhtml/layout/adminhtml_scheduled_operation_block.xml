<?xml version="1.0"?>
<!--
/**
 * {license_notice}
 *
 * @copyright   {copyright}
 * @license     {license_link}
 */
-->
<layout xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <handle id="adminhtml_scheduled_operation_block">
        <reference name="adminhtml.block.scheduled.operation.grid.container">
            <block class="Magento_Backend_Block_Widget_Grid" name="adminhtml.block.scheduled.operation.grid" as="grid">
                <arguments>
                    <id>operationGrid</id>
                    <dataSource type="object">Magento_ScheduledImportExport_Model_Resource_Scheduled_Operation_Collection</dataSource>
                    <use_ajax>1</use_ajax>
                    <default_sort>id</default_sort>
                    <default_dir>DESC</default_dir>
                    <grid_url type="url">
                        <path>*/*/grid</path>
                        <params>
                            <_current>1</_current>
                        </params>
                    </grid_url>
                </arguments>
                <block class="Magento_Backend_Block_Widget_Grid_Massaction" name="adminhtml.block.scheduled.operation.massactions" as="grid.massaction">
                    <arguments>
                        <massaction_id_field>id</massaction_id_field>
                        <form_field_name>operation</form_field_name>
                        <use_select_all>1</use_select_all>
                        <options>
                            <delete>
                                <label translate="true">Delete</label>
                                <url>*/*/massDelete</url>
                                <confirm translate="true">Are you sure you want to delete the selected scheduled imports/exports?</confirm>
                            </delete>
                            <status>
                                <label translate="true">Change status</label>
                                <url>*/*/massChangeStatus</url>
                                <block_name>status</block_name>
                            </status>
                        </options>
                    </arguments>
                    <block class="Magento_Backend_Block_Widget_Grid_Massaction_Additional" name="adminhtml.block.scheduled.operation.massactions.status" as="status">
                        <arguments>
                            <fields>
                                <visibility>
                                    <name>status</name>
                                    <type>select</type>
                                    <class>required-entry</class>
                                    <label translate="true">Status</label>
                                    <values>Magento_ScheduledImportExport_Model_Resource_Scheduled_Operation_Options_Statuses</values>
                                </visibility>
                            </fields>
                        </arguments>
                    </block>
                </block>
                <block class="Magento_Backend_Block_Widget_Grid_ColumnSet" as="grid.columnSet">
                    <arguments>
                        <id>operationGrid</id>
                        <rowUrl>
                            <path>*/*/edit</path>
                            <extraParamsTemplate>
                                <id>getId</id>
                            </extraParamsTemplate>
                        </rowUrl>
                    </arguments>
                    <block class="Magento_Backend_Block_Widget_Grid_Column" as="name">
                        <arguments>
                            <header translate="true">Name</header>
                            <index>name</index>
                            <type>text</type>
                            <escape>1</escape>
                        </arguments>
                    </block>
                    <block class="Magento_Backend_Block_Widget_Grid_Column" as="operation_type">
                        <arguments>
                            <header translate="true">Operation</header>
                            <index>operation_type</index>
                            <type>options</type>
                            <width>30</width>
                            <options type="options">Magento_ScheduledImportExport_Model_Resource_Scheduled_Operation_Options_Operations</options>
                        </arguments>
                    </block>
                    <block class="Magento_Backend_Block_Widget_Grid_Column" as="entity_type">
                        <arguments>
                            <header translate="true">Entity Type</header>
                            <index>entity_type</index>
                            <type>options</type>
                            <options type="options">Magento_ScheduledImportExport_Model_Resource_Scheduled_Operation_Options_Entities</options>
                        </arguments>
                    </block>
                    <block class="Magento_Backend_Block_Widget_Grid_Column" as="last_run_date">
                        <arguments>
                            <header translate="true">Last Run</header>
                            <index>last_run_date</index>
                            <type>datetime</type>
                        </arguments>
                    </block>
                    <block class="Magento_Backend_Block_Widget_Grid_Column" as="freq">
                        <arguments>
                            <header translate="true">Frequency</header>
                            <index>freq</index>
                            <width>100</width>
                            <type>options</type>
                            <options type="options">Magento_ScheduledImportExport_Model_Resource_Scheduled_Operation_Options_Frequency</options>
                        </arguments>
                    </block>
                    <block class="Magento_Backend_Block_Widget_Grid_Column" as="status">
                        <arguments>
                            <header translate="true">Status</header>
                            <index>status</index>
                            <type>options</type>
                            <options type="options">Magento_ScheduledImportExport_Model_Resource_Scheduled_Operation_Options_Statuses</options>
                        </arguments>
                    </block>
                    <block class="Magento_Backend_Block_Widget_Grid_Column" as="is_success">
                        <arguments>
                            <header translate="true">Last Outcome</header>
                            <index>is_success</index>
                            <type>options</type>
                            <width>200</width>
                            <options type="options">Magento_ScheduledImportExport_Model_Resource_Scheduled_Operation_Options_Result</options>
                        </arguments>
                    </block>
                    <block class="Magento_Backend_Block_Widget_Grid_Column" as="action">
                        <arguments>
                            <header translate="true">Action</header>
                            <index>id</index>
                            <width>50</width>
                            <type>action</type>
                            <getter>getId</getter>
                            <filter>0</filter>
                            <sortable>0</sortable>
                            <actions>
                                <edit_action>
                                    <caption translate="true">Edit</caption>
                                    <url>
                                        <base>*/*/edit</base>
                                    </url>
                                    <field>id</field>
                                </edit_action>
                                <run_action>
                                    <caption translate="true">Run</caption>
                                    <url>
                                        <base>*/scheduled_operation/cron</base>
                                    </url>
                                    <field>operation</field>
                                </run_action>
                            </actions>
                        </arguments>
                    </block>
                </block>
            </block>
        </reference>
    </handle>
</layout>
