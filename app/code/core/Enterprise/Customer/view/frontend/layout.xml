<?xml version="1.0" encoding="UTF-8"?>
<!--
/**
 * {license_notice}
 *
 * @category    Enterprise
 * @package     Enterprise_Customer
 * @copyright   {copyright}
 * @license     {license_link}
 */
-->
<layout version="0.1.0">
    <customer_account_create>
        <block type="Enterprise_Customer_Block_Form" template="form/userattributes.phtml" name="customer_form_user_attributes">
            <action method="setFormCode"><code>customer_account_create</code></action>
            <action method="setEntityModelClass"><code>customer/customer</code></action>
        </block>
        <block type="Enterprise_Customer_Block_Form" template="form/userattributes.phtml" name="customer_form_address_user_attributes">
            <action method="setFormCode"><code>customer_register_address</code></action>
            <action method="setEntityModelClass"><code>customer/address</code></action>
        </block>
        <reference name="customer_form_register">
            <action method="append"><block>customer_form_user_attributes</block></action>
            <action method="append"><block>customer_form_address_user_attributes</block></action>
        </reference>
        <update handle="customer_form_template_handle"/>
    </customer_account_create>

    <customer_account_edit>
        <reference name="customer_edit">
            <block type="Enterprise_Customer_Block_Form" template="form/userattributes.phtml" name="customer_form_user_attributes">
                <action method="setFormCode"><code>customer_account_edit</code></action>
            </block>
        </reference>
        <update handle="customer_form_template_handle"/>
    </customer_account_edit>

    <customer_address_form>
        <reference name="customer_address_edit">
            <block type="Enterprise_Customer_Block_Form" template="form/userattributes.phtml" name="customer_form_user_attributes">
                <action method="setFormCode"><code>customer_address_edit</code></action>
            </block>
        </reference>
        <update handle="customer_form_template_handle"/>
    </customer_address_form>

    <customer_form_template_handle>
        <reference name="content">
            <block name="customer_form_template" type="Enterprise_Customer_Block_Form_Template">
                <action method="addRenderer">
                    <type>text</type>
                    <renderer_block>Enterprise_Customer_Block_Form_Renderer_Text</renderer_block>
                    <template>form/renderer/text.phtml</template>
                </action>
                <action method="addRenderer">
                    <type>textarea</type>
                    <renderer_block>Enterprise_Customer_Block_Form_Renderer_Textarea</renderer_block>
                    <template>form/renderer/textarea.phtml</template>
                </action>
                <action method="addRenderer">
                    <type>multiline</type>
                    <renderer_block>Enterprise_Customer_Block_Form_Renderer_Multiline</renderer_block>
                    <template>form/renderer/multiline.phtml</template>
                </action>
                <action method="addRenderer">
                    <type>date</type>
                    <renderer_block>Enterprise_Customer_Block_Form_Renderer_Date</renderer_block>
                    <template>form/renderer/date.phtml</template>
                </action>
                <action method="addRenderer">
                    <type>select</type>
                    <renderer_block>Enterprise_Customer_Block_Form_Renderer_Select</renderer_block>
                    <template>form/renderer/select.phtml</template>
                </action>
                <action method="addRenderer">
                    <type>multiselect</type>
                    <renderer_block>Enterprise_Customer_Block_Form_Renderer_Multiselect</renderer_block>
                    <template>form/renderer/multiselect.phtml</template>
                </action>
                <action method="addRenderer">
                    <type>boolean</type>
                    <renderer_block>Enterprise_Customer_Block_Form_Renderer_Boolean</renderer_block>
                    <template>form/renderer/boolean.phtml</template>
                </action>
                <action method="addRenderer">
                    <type>file</type>
                    <renderer_block>Enterprise_Customer_Block_Form_Renderer_File</renderer_block>
                    <template>form/renderer/file.phtml</template>
                </action>
                <action method="addRenderer">
                    <type>image</type>
                    <renderer_block>Enterprise_Customer_Block_Form_Renderer_Image</renderer_block>
                    <template>form/renderer/image.phtml</template>
                </action>
            </block>
        </reference>
    </customer_form_template_handle>
</layout>
