<?xml version="1.0"?>
<!--
/**
 * {license_notice}
 *
 * @category    design
 * @package     default_default
 * @copyright   {copyright}
 * @license     {license_link}
 */
-->

<layout>
    <adminhtml_catalog_product_new>
        <reference name="head">
            <action method="addCss"><file>Enterprise_GiftCard::styles.css</file></action>
        </reference>
    </adminhtml_catalog_product_new>

    <adminhtml_catalog_product_giftcard>
        <reference name="product-type-tabs">
            <block type="Enterprise_GiftCard_Block_Adminhtml_Catalog_Product_Edit_Tab_Giftcard"></block>
        </reference>
    </adminhtml_catalog_product_giftcard>

    <adminhtml_sales_order_view>
        <reference name="order_items">
            <action method="addColumnRender">
                <column>name</column>
                <block>Enterprise_GiftCard_Block_Adminhtml_Sales_Items_Column_Name_Giftcard</block>
                <template>Mage_Adminhtml::sales/items/column/name.phtml</template>
                <type>giftcard</type>
            </action>
        </reference>
    </adminhtml_sales_order_view>

    <adminhtml_sales_order_invoice_new>
        <reference name="order_items">
            <action method="addColumnRender">
                <column>name</column>
                <block>Enterprise_GiftCard_Block_Adminhtml_Sales_Items_Column_Name_Giftcard</block>
                <template>Mage_Adminhtml::sales/items/column/name.phtml</template>
                <type>giftcard</type>
            </action>
        </reference>
    </adminhtml_sales_order_invoice_new>

    <adminhtml_sales_order_invoice_updateqty>
        <reference name="order_items">
            <action method="addColumnRender">
                <column>name</column>
                <block>Enterprise_GiftCard_Block_Adminhtml_Sales_Items_Column_Name_Giftcard</block>
                <template>Mage_Adminhtml::sales/items/column/name.phtml</template>
                <type>giftcard</type>
            </action>
        </reference>
    </adminhtml_sales_order_invoice_updateqty>

    <adminhtml_sales_order_invoice_view>
        <reference name="order_items">
            <action method="addColumnRender">
                <column>name</column>
                <block>Enterprise_GiftCard_Block_Adminhtml_Sales_Items_Column_Name_Giftcard</block>
                <template>Mage_Adminhtml::sales/items/column/name.phtml</template>
                <type>giftcard</type>
            </action>
        </reference>
    </adminhtml_sales_order_invoice_view>

    <adminhtml_sales_order_creditmemo_new>
        <reference name="order_items">
            <action method="addColumnRender">
                <column>name</column>
                <block>Enterprise_GiftCard_Block_Adminhtml_Sales_Items_Column_Name_Giftcard</block>
                <template>Mage_Adminhtml::sales/items/column/name.phtml</template>
                <type>giftcard</type>
            </action>
        </reference>
    </adminhtml_sales_order_creditmemo_new>

    <adminhtml_sales_order_creditmemo_updateqty>
        <reference name="order_items">
            <action method="addColumnRender">
                <column>name</column>
                <block>Enterprise_GiftCard_Block_Adminhtml_Sales_Items_Column_Name_Giftcard</block>
                <template>Mage_Adminhtml::sales/items/column/name.phtml</template>
                <type>giftcard</type>
            </action>
        </reference>
    </adminhtml_sales_order_creditmemo_updateqty>

    <adminhtml_sales_order_creditmemo_view>
        <reference name="order_items">
            <action method="addColumnRender">
                <column>name</column>
                <block>Enterprise_GiftCard_Block_Adminhtml_Sales_Items_Column_Name_Giftcard</block>
                <template>Mage_Adminhtml::sales/items/column/name.phtml</template>
                <type>giftcard</type>
            </action>
        </reference>
    </adminhtml_sales_order_creditmemo_view>

    <adminhtml_customer_wishlist>
        <reference name="customer.wishlist.edit.tab">
            <arguments>
                <product_configuration_helpers>
                    <giftcard>Enterprise_GiftCard_Helper_Catalog_Product_Configuration</giftcard>
                </product_configuration_helpers>
            </arguments>
        </reference>
    </adminhtml_customer_wishlist>

    <catalog_product_view_type_giftcard>
        <reference name="product.composite.fieldset">
            <remove name="product.composite.fieldset.qty"/>
            <block type="Enterprise_GiftCard_Block_Adminhtml_Catalog_Product_Composite_Fieldset_Giftcard" name="product.composite.fieldset.giftcard" before="product.composite.fieldset.options" template="catalog/product/composite/fieldset/giftcard.phtml">
                <block type="Mage_Adminhtml_Block_Catalog_Product_Composite_Fieldset_Qty" name="product.composite.giftcard.qty" template="Enterprise_GiftCard::catalog/product/composite/fieldset/qty.phtml"/>
            </block>
        </reference>
    </catalog_product_view_type_giftcard>
</layout>
