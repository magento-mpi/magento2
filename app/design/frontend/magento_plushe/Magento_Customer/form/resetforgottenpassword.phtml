<?php
/**
 * {license_notice}
 *
 * @category    design
 * @package     base_default
 * @copyright   {copyright}
 * @license     {license_link}
 */
?>
<form action="<?php echo $this->getUrl('*/*/resetpasswordpost', array('_query' => array('id' => $this->getCustomerId(), 'token' => $this->getResetPasswordLinkToken()))); ?>" method="post" id="form-validate" class="form password reset">
    <fieldset class="fieldset" data-hasrequired="<?php echo __('* Required Fields'); ?>">
        <div class="field password required">
            <label class="label" for="password"><span><?php echo __('New Password'); ?></span></label>
            <div class="control">
                <input type="password" class="input-text" name="password" id="password" data-validate="{required:true, 'validate-password':true}"/>
            </div>
        </div>
        <div class="field confirmation required">
            <label class="label" for="confirmation"><span><?php echo __('Confirm New Password'); ?></span></label>
            <div class="control">
                <input type="password" class="input-text" name="confirmation" id="confirmation" data-validate="{required:true,equalTo:'#password'}"/>
            </div>
        </div>
    </fieldset>
    <div class="actions">
        <div class="primary">
            <button type="submit" title="<?php echo __('Reset a Password'); ?>" class="action submit"><span><?php echo __('Reset a Password'); ?></span></button>
        </div>
    </div>
</form>
<script type="text/javascript">
    (function($) {
        head.js(
            "<?php echo $this->getViewFileUrl('jquery/jquery.validate.js') ?>",
            "<?php echo $this->getViewFileUrl('jquery/jquery.metadata.js') ?>",
            "<?php echo $this->getViewFileUrl('mage/validation.js')?>",
            "<?php echo $this->getViewFileUrl('mage/validation/validation.js') ?>",
            function() {
                $('#form-validate').validation();
            });
    })(jQuery);
</script>
