// /**
//  * {license_notice}
//  *
//  * @category    design
//  * @copyright   {copyright}
//  * @license     {license_link}
//  */

// Product Lists

@product-grid-items-per-row-layout-default: 2;

@product-grid-items-per-row-layout-1-break-point-0: 3;
@product-grid-items-per-row-layout-1-break-point-1: 4;
@product-grid-items-per-row-layout-1-break-point-2: 5;

@product-grid-items-per-row-layout-2-left-break-point-0: 3;
@product-grid-items-per-row-layout-2-left-break-point-1: 4;
@product-grid-items-per-row-layout-2-left-break-point-2: '';

@product-grid-items-per-row-layout-2-right-break-point-0: 3;
@product-grid-items-per-row-layout-2-right-break-point-1: 4;
@product-grid-items-per-row-layout-2-right-break-point-2: '';

@product-grid-items-per-row-layout-3-break-point-0: 3;
@product-grid-items-per-row-layout-3-break-point-1: '';
@product-grid-items-per-row-layout-3-break-point-2: '';

@product-grid-items-padding: 0 @indent-base @indent-base;
@product-grid-items-margin: 0 0 @indent-l-base;

@product-name-text-decoration: none;
@product-name-text-decoration-hover: @link-text-decoration-hover;


.product-item-grid(@_layout-class, @_product-items) when not (@_layout-class = false) and not (@_product-items = '') {
    .@{_layout-class} & {
        .css(width, 100% / @_product-items);
    }
}

.product-item-grid(@_layout-class, @_product-items) when (@_layout-class = false) and not (@_product-items = '') {
    .css(width, 100% / @_product-items);
}

.product-name() {
    font-weight: @font-weight-base;
    > a {
        .link(
             @_link-color: @text-color,
             @_link-text-decoration: @product-name-text-decoration,
             @_link-color-visited: @text-color,
             @_link-text-decoration-visited: @product-name-text-decoration,
             @_link-color-hover: @text-color,
             @_link-text-decoration-hover: @product-name-text-decoration-hover,
             @_link-color-active: @text-color,
             @_link-text-decoration-active: @product-name-text-decoration-hover
         );
    }
}

//
//    Category page layout
//--------------------------------------
.products.grid .item.product {
    .product-item-grid(@_layout-class: false, @product-grid-items-per-row-layout-default);
}

.responsive(@break) when (@break = @break-point-0) {
    .products.grid .item.product {
        .product-item-grid(@layout-class-1column, @product-grid-items-per-row-layout-1-break-point-0);
        .product-item-grid(@layout-class-2columns-left, @product-grid-items-per-row-layout-2-left-break-point-0);
        .product-item-grid(@layout-class-2columns-right, @product-grid-items-per-row-layout-2-right-break-point-0);
        .product-item-grid(@layout-class-3columns, @product-grid-items-per-row-layout-3-break-point-0);
    }
}

.responsive(@break) when (@break = @break-point-1) {
    .products.grid .item.product {
        .product-item-grid(@layout-class-1column, @product-grid-items-per-row-layout-1-break-point-1);
        .product-item-grid(@layout-class-2columns-left, @product-grid-items-per-row-layout-2-left-break-point-1);
        .product-item-grid(@layout-class-2columns-right, @product-grid-items-per-row-layout-2-right-break-point-1);
        .product-item-grid(@layout-class-3columns, @product-grid-items-per-row-layout-3-break-point-1);
    }
}

.responsive(@break) when (@break = @break-point-2) {
    .products.grid .item.product {
        .product-item-grid(@layout-class-1column, @product-grid-items-per-row-layout-1-break-point-2);
        .product-item-grid(@layout-class-2columns-left, @product-grid-items-per-row-layout-2-left-break-point-2);
        .product-item-grid(@layout-class-2columns-right, @product-grid-items-per-row-layout-2-right-break-point-2);
        .product-item-grid(@layout-class-3columns, @product-grid-items-per-row-layout-3-break-point-2);
    }
}

//
//    Product grid and list item
//--------------------------------------

.products {
    &.list.items {
        &:extend(.reset-list all);
        .item.product {
            padding-top: 10px;
            &:extend(.add-box-sizing all);
            position: relative;
            vertical-align: top;
            border: 1px solid transparent;
            &:hover {
                border: 1px solid #bbbbbb;
                @_shadow: 3px 3px 4px 0px rgba(163, 163, 163, 1);;
                .css(box-shadow, @_shadow);
                .actions {
                    visibility: visible;
                }
            }
        }
        .name {
            .product-name();
            display: block;
        }
        .price-box {
            margin-top: 17px;
            .price {
                font-weight: @font-weight-bold;
            }
        }
        .description {
            padding-top: @indent-l-base;
            color: @text-color-intense;
        }
        .actions {
            margin-top: 10px;
             visibility: hidden;
            > .secondary {
                display: none;
                vertical-align: top;
            }
            > .primary,
            > .secondary {
                margin: @indent-s-base 0 0 0;
            }
            .stock.unavailable {
                margin: 7px 5px 0 0;
            }
        }
        .action {
            &.towishlist {
                margin-top: 5px;
                .icon-font(
                    @icon-wishlist-full,
                    @_icon-font-size: 18px,
                    @_icon-font-color: @text-color-muted,
                    @_icon-font-text-hide: true,
                    @_icon-font-vertical-align: middle,
                    @_icon-font-line-height: normal
                );
                &:before {
                    width: 30px;
                }
            }
            &.tocompare {
                margin-top: 5px;
                .icon-font(
                    @icon-compare-full,
                    @_icon-font-size: 18px,
                    @_icon-font-color: @text-color-muted,
                    @_icon-font-text-hide: true,
                    @_icon-font-vertical-align: middle,
                    @_icon-font-line-height: normal
                );
                &:before {
                    width: 30px;
                }
            }
            &.tocart {
                border-radius: 0;
                font-size: 13px;
                line-height: 1;
                padding-top: 10px;
                padding-bottom: 10px;
            }
        }
    }
    &.wrapper.list {
        .products.list.items {
            .item.product {
                display: block;
                margin-bottom: @indent-m-base;
            }
            .product.photo {
                display: block;
            }
            .details {
                text-align: center;
            }
            .name {
                font-size: @font-size-l;
                margin-bottom: @indent-base;
            }
        }
    }
    &.wrapper.grid {
        .products.list.items {
            .item.product {
                display: inline-block;
                padding: @product-grid-items-padding;
                margin: @product-grid-items-margin;
            }
            .img.container {
                margin-bottom: @indent-base;
            }
            .actions {
                > .primary {
                    display: inline-block;
                }
            }
        }
    }
}

//
//    Desktop
//--------------------------------------
.responsive(@break) when (@break = @break-point-1) {

    .products {
        &.list.items {
            .actions {
                > .secondary {
                    display: inline-block;
                }
            }
        }
        &.wrapper.list {
            .products.list.items {
                .item.product {
                    margin-bottom: @indent-l-base;
                    > .product {
                        display: table;
                        width: 100%;
                        table-layout: fixed;
                    }
                    .product.photo {
                        display: table-cell;
                        vertical-align: top;
                        width: 30%;
                        padding-right: 1.75 * @indent-base;
                    }
                    .price-box {
                        width: 30%;
                        margin-right: 2%;
                        float: left;
                    }
                    .details {
                        display: table-cell;
                        vertical-align: top;
                        text-align: left;
                    }
                    .description {
                        clear: both;
                    }
                    .actions {
                        > .primary {
                            display: inline-block;
                        }
                    }
                }
            }
        }
    }
}
