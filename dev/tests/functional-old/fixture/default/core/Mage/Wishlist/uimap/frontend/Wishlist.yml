#
# {license_notice}
#
# @category    Magento
# @package     Mage_Wishlist
# @subpackage  functional_tests
# @copyright   {copyright}
# @license     {license_link}
#
---
#
my_wishlist:
    mca: wishlist/
    click_xpath: //li[strong='My Wish List']/strong
    title: My Wish List
    uimap: &myWishlist
        form:
            fieldsets:
                -
                    product_prices:
                        xpath: //table[@id='wishlist-table']//tr[td//a[@title='%productName%']]//div[@class='price-box']
                -
                    wishlist_product:
                        xpath: //table[@id='wishlist-table']//tr[td//a[@title='%productName%']]
                        buttons:
                            add_to_cart: //button[span='Add to Cart']
                        fields:
                            comment: //textarea[@title='Comment']
                            qty: //input[@class='input-text qty']
                        links:
                            view_details: //a[text()='View Details']
                            edit: //a[span='Edit']
                            remove_item: //a[@title='Remove Item']
                        #pageelements:
                            #price_regular: //span[@class='regular-price']/span[@class='price']
                            #price_old: //p[@class='old-price']/span[@class='price']
                            #price_special: //p[@class='special-price']/span[@class='price']
                            #price_excluding_tax: "[not(*//p[@class='special-price'])]//span[@class='price-excluding-tax']/span"
                            #price_including_tax: "[not(*//p[@class='special-price'])]//span[@class='price-including-tax']/span"
                            #price_special_excluding_tax: //p[@class='special-price']/span[@class='price-excluding-tax']/span
                            #price_special_inlcuding_tax: //p[@class='special-price']/span[@class='price-including-tax']/span
                            #price_as_low_as:  TODO - cannot add because of the current bug MAGE-4112
                            #ex_price_regular: //tr[td//a[@title='%productName%']]//span[@class='regular-price']/span[@class='price']
                            #ex_price_old: //tr[td//a[@title='%productName%']]//p[@class='old-price']/span[@class='price']
                            #ex_price_special: //tr[td//a[@title='%productName%']]//p[@class='special-price']/span[@class='price']
                            #ex_price_excluding_tax: //tr[contains(.,'%productName%') and not(*//p[@class='special-price'])]//span[@class='price-excluding-tax']/span[@class='price']
                            #ex_price_including_tax: //tr[contains(.,'%productName%') and not(*//p[@class='special-price'])]//span[@class='price-including-tax']/span[@class='price']
                            #ex_price_special_excluding_tax: //tr[td//a[@title='%productName%']]//p[@class='special-price']/span[@class='price-excluding-tax']/span[@class='price']
                            #ex_price_special_inlcuding_tax: //tr[td//a[@title='%productName%']]//p[@class='special-price']/span[@class='price-including-tax']/span[@class='price']
                            #ex_price_as_low_as:  TODO - cannot add because of the current bug MAGE-4112
                            #added_on: //tr[td//a[@title='%productName%']]//span[@class='nobr']
                -
                    wishlist:
                        xpath: //form[@id='wishlist-view-form']
                        buttons:
                            share_wishlist: //button[span='Share Wish List']
                            add_all_to_cart: //button[span='Add All to Cart']
                            update_wishlist: //button[span='Update Wish List']
                        links:
                            product_name: //table[@id='wishlist-table']//a[normalize-space(text())='%productName%']
                            remove_item_generic: //a[@title='Remove Item']
                            back: //a[span='Back']
                        pageelements:
                            product_table_head: //table[@id='wishlist-table']/thead
                            no_items: //div[span='You have no items in your wish list.']
        messages: &wishlistMessages
            successfully_added_product: //li[normalize-space(@class)='success-msg' and contains(.,'%productName% has been added to your wishlist.')]
            successfully_added_products: //li[normalize-space(@class)='success-msg' and contains(.,'%productQty% product(s) have been added to shopping cart:')]
            successfully_shared_wishlist: //li[normalize-space(@class)='success-msg' and contains(.,'Your wish list has been shared.')]
            confirmation_for_delete: Are you sure you want to remove this product from your wishlist?
            invalid_emails: //li[@class='error-msg' and contains(.,'Please input a valid email address.')]
            invalid_emails_js: //div[@class='mage-error' and @for='email_address' and contains(.,'Please enter valid email addresses, separated by commas. For example, johndoe@domain.com, johnsmith@domain.com.')]

my_wishlist_index:
    mca: wishlist/index/index/wishlist_id/%id%/
    title: My Wish List
    uimap: *myWishlist

share_wishlist:
    mca: wishlist/index/share/
    title: Wish List Sharing
    uimap: &shareWishlist
        form:
            fieldsets:
                -
                    sharing_info:
                        xpath: //form[@id='form-validate']
                        buttons:
                            share_wishlist: //button[@title='Share Wishlist']
                        fields:
                            emails: //textarea[@name='emails']
                            message: //textarea[@name='message']
                        links:
                            back: //a[span='Back']
        messages: *wishlistMessages

share_wishlist_index:
    mca: wishlist/index/share/wishlist_id/%id%/
    title: Wish List Sharing
    uimap: *shareWishlist