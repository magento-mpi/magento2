# Magento
#
# {license_notice}
#
# @category    Magento
# @package     Magento
# @subpackage  functional_tests
# @copyright   {copyright}
# @license     {license_link}
#
---
# Notification (Messages Inbox) page
notification:
    mca: notification/
    click_xpath: //ul[@id='nav']//a[contains(@href, 'notification/')]
    title: Notifications / Other Settings / System / Magento Admin

# Tools: Backups page
system_backup:
    mca: backup/
    click_xpath: //ul[@id='nav']//a[span='Backups']
    title: Backups / Tools / System / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    backup_grid:
                        xpath: //div[@id="backupsGrid"]
                        fields:
                            page: //input[@name="page"]
                            time_from: //input[@name="time[from]"]
                            time_to: //input[@name="time[to]"]
                        dropdowns:
                            view: //select[@name="limit"]
                            select: //select[@id="backupsGrid_filter_massaction"]
                            type: //select[@id='backupsGrid_filter_type']
                            actions: //select[@id='backupsGrid_massaction-select']
                        buttons:
                            submit: //button[span='Submit']
                            reset: //button[span='Reset Filter']
                            search: //button[span='Search']
        buttons:
            system_backup: //button[span='System Backup']
            database_and_media_backup: //button[span='Database and Media Backup']
            database_backup: //button[span='Database Backup']

# Web Services: OAuth Consumers page
oauth_consumer:
    mca: oauth_consumer/
    click_xpath: //ul[@id='nav']//a[contains(@href, 'oauth_consumer/')]
    title: Consumers / OAuth / System / Magento Admin

# Web Services: Authorized OAuth Tokens page
oauth_authorizedTokens:
    mca: oauth_authorizedTokens/
    click_xpath: //ul[@id='nav']//a[contains(@href, 'oauth_authorizedTokens/')]
    title: Authorized Tokens / OAuth / System / Magento Admin

#Web Services: My Applications page
oauth_admin_token:
    mca: oauth_admin_token/
    click_xpath: //ul[@id='nav']//a[contains(@href, 'oauth_admin_token/')]
    title: My Applications / Permissions / System / Magento Admin

# Design: Design page
system_design:
    mca: system_design/
    click_xpath: //div[@class='submenu']//a[contains(@href, 'system_design/')]
    title: Store Design / Design / Content / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    design_grid:
                        xpath: //div[@id='designGrid']
                        dropdowns:
                            store: //select[@name='store_id']
                            view_per_page: //select[@name='limit']
                        buttons:
                            reset_filter: //button[span='Reset Filter']
                            search: //button[span='Search']
                        fields:
                            page: //input[@name='page']
                            design_filter: //input[@id='designGrid_filter_package']
                            date_from_filter_from: //input[@name='date_from[from]']
                            date_from_filter_to: //input[@name='date_from[to]']
                            date_to_filter_from: //input[@name='date_to[from]']
                            date_to_filter_to: //input[@name='date_to[to]']
        buttons:
            add_design_change: //button[span='Add Design Change']

# Add Design Change
new_system_design:
    mca: system_design/new/
    title: New Store Design Change / Store Design / Design / Content / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    general_settings:
                        xpath: //fieldset[@id='general']
                        dropdowns:
                            store: //*[@id='store_id'][not(@type='hidden')]

# Design: Visual Design Editor page
system_design_editor:
    mca: system_design_editor/
    click_xpath: //ul[@id='nav']//a[contains(@href, 'system_design_editor/')]
    title: Store Designer / Design / Content / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    context_information:
                        xpath: //div[@id='base_fieldset']
                        dropdowns:
                            store_view: //select[@name='store_id']

# Manage Currency:
system_currency:
    mca: system_currency/
    click_xpath: //ul[@id='nav']//a[contains(@href, 'system_currency/')]
    title: Currency Rates / Currency / Stores / Magento Admin

# Manage Currency symbols:
system_currencysymbol:
    mca: system_currencysymbol/
    click_xpath: //ul[@id='nav']//a[contains(@href, 'system_currencysymbol/')]
    title: Currency Symbols / Currency / Stores / Magento Admin

#Transactional email
system_email_template:
    mca: email_template/
    click_xpath: //ul[@id='nav']//a[contains(@href, '/email_template/')]
    title: Email Templates / Communications / Marketing / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    system_email_template_grid:
                        xpath: //div[@id='systemEmailTemplateGrid']
                        buttons:
                            reset_filter: //button[span='Reset Filter']
                            search: //button[span='Search']
                        fields:
                            page: //input[@name='page']
                            filter_template_id: //input[@id='systemEmailTemplateGrid_filter_template_id']
                            filter_template_name: //input[@name='code']
                            filter_date_added_from: //input[@name='added_at[from]']
                            filter_date_added_to: //input[@name='added_at[to]']
                            filter_date_updated_from: //input[@name='modified_at[from]']
                            filter_date_updated_to: //input[@name='modified_at[to]']
                            filter_subject: //input[@name='subject']
                        dropdowns:
                            filter_template_type: //select[@name='type']
                            view_per_page: //select[@name='limit']
        buttons:
            add_new_template: //button[span='Add New Template']
        messages: &templateMessages
            success_create_template: //li[normalize-space(@class)='success-msg' and contains(.,'The email template has been saved.')]
            confirmation_for_delete: Are you sure that you want to delete this template?
            success_deleted_template: //li[normalize-space(@class)='success-msg' and contains(.,'The email template has been deleted.')]
            confirmation_convert_to_plain_text: Are you sure that you want to strip tags?

#Add New transactional email
new_email_template:
    mca: email_template/new/
    title: New Template / Email Templates / Communications / Marketing / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    load_default_template:
                        xpath: //form[@id='email_template_load_form']
                        dropdowns:
                            template: //select[@name='code']
                        buttons:
                            load_template: //button[span='Load Template']
                -
                    template_information: &template_information-fieldset
                        xpath: //form[@id='email_template_edit_form']
                        buttons:
                            insert_variable: //button[span='Insert Variable...']
                        fields:
                            template_name: //input[@name='template_code']
                            template_subject: //input[@name='template_subject']
                            template_content: //textarea[@name='template_text']
                            template_styles: //textarea[@name='template_styles']
                -
                    variable_insertion: &variable_insertion-fieldset
                        xpath: //div[@id='variables-chooser']
                        links:
                            variable: //a[text()='%variableName%']
                        buttons:
                            close_variable_insertion: //div[@id='variables-chooser_close']
        buttons: &templateButtons
            back: //button[span='Back']
            reset: //button[span='Reset']
            convert_to_plain_text: //button[span='Convert to Plain Text']
            preview_template: //button[span='Preview Template']
            save_template: //button[@title='Save Template']
            return_html_version: //button[span='Return Html Version']
            delete: //button[span='Delete Template']
        messages: *templateMessages

#Edit transactional email
edit_email_template:
    mca: email_template/edit/id/%id%/
    title: %elementTitle% / Email Templates / Communications / Marketing / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    template_information: *template_information-fieldset
                -
                    variable_insertion: *variable_insertion-fieldset
        buttons: *templateButtons
        messages: *templateMessages

# Custom Variables:
system_custom_variables:
    mca: system_variable/
    click_xpath: //ul[@id='nav']//a[span='Custom Variables']
    title: Custom Variables / Other Settings / System / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    system_custom_variables_grid:
                        xpath: //div[@id='customVariablesGrid']
                        buttons:
                            reset_filter: //button[span='Reset Filter']
                            search: //button[span='Search']
                        dropdowns:
                            view: //select[@name="limit"]
                        fields:
                            page: //input[@name='page']
                            variable_id: //input[@id='customVariablesGrid_filter_variable_id']
                            variable_code: //input[@id='customVariablesGrid_filter_code']
                            variable_name: //input[@id='customVariablesGrid_filter_name']
        buttons:
            add_new_variable: //button[@id='add']

 # 'Package Extensions' page
system_package_extentions:
     mca: extension_custom/
     click_xpath: //ul[@id='nav']//a[contains(@href, '/extension_custom/')]
     title: Extension / Package Extensions / Magento Connect / System / Magento Admin
