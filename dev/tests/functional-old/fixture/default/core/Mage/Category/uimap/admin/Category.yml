#
# {license_notice}
#
# @category    Magento
# @package     Mage_Category
# @subpackage  functional_tests
# @copyright   {copyright}
# @license     {license_link}
#
---
# Manage categories page and related pages

manage_categories:
    mca: catalog/category/
    click_xpath: //ul[@id='nav']//a[contains(@href, '/catalog/category/')]
    title: Categories / Categories / Inventory / Products / Magento Admin
    uimap: &categoryUimap
        form:
            fieldsets:
                -
                    category_actions:
                        xpath: //*[@id='page:left']/div
                        buttons:
                            add_root_category: //button[@id='add_root_category_button']
                            add_sub_category: //button[@id='add_subcategory_button']
                        links:
                            collapse_all: //a[text()='Collapse All']
                            expand_all: //a[text()='Expand All']
                -
                    select_category:
                        xpath: //div[@class='tree-holder']/div
                        links:
                            category_by_name: //span[contains(text(),'%categoryName%')]
                            select_category_root_category: //ul/div/li[contains(div/a/span,'%rootName%')]
                            select_category_sub_category: //*[@id='%parentCategoryId%']/ancestor::li/ul/li[contains(div/a/span,'%subName%') and not(div/a/span/@id='%parentCategoryId%')]
                            select_category_expand_category: //*[@id='%parentCategoryId%']/ancestor::div/img[contains(@class,'x-tree-elbow-plus') or contains(@class,'x-tree-elbow-end-plus')]
                        pageelements:
                            select_category_category_text: %categoryXpath%/div/a/span
                            select_category_category_index_text: %categoryXpath%[%index%]/div/a/span
                            select_category_category_index_link: %categoryXpath%[%index%]/div/a
                -
                    category_container:
                        xpath: //*[@id='category-edit-container']
                        pageelements:
                            category_name_header: //h3
                            created_category_name_header: //h3[not(contains(text(),'New'))]
            tabs:
                -
                    general_information:
                        xpath: //a[@title='General Information']
                        fieldsets:
                            -
                                general_info:
                                    xpath: //fieldset[contains(legend/span,'General Information')]
                                    checkboxes:
                                        delete_thumbnail_image: //input[@name='general[thumbnail][delete]']
                                        delete_image: //*[@name='general[image][delete]']
                                    buttons:
                                        wysiwyg_editor: //button[span='WYSIWYG Editor']
                                    dropdowns:
                                        is_active: //select[@name='general[is_active]']
                                        include_in_navigation_menu: //select[@name='general[include_in_menu]']
                                    fields:
                                        name: //input[@name='general[name]']
                                        url_key: //input[@name='general[url_key]']
                                        thumbnail_image: //input[@name='thumbnail']
                                        description: //textarea[@name='general[description]']
                                        image: //input[@name='image']
                                        page_title: //input[@name='general[meta_title]']
                                        meta_keywords: //textarea[@name='general[meta_keywords]']
                                        meta_description: //textarea[@name='general[meta_description]']
                -
                    display_settings:
                        xpath: //a[@title='Display Settings']
                        fieldsets:
                            -
                                display_settings:
                                    xpath: //fieldset[contains(legend/span,'Display Settings')]
                                    checkboxes:
                                        available_product_listing_config: //input[@value='available_sort_by']
                                        default_product_listing_config: //input[@value='default_sort_by']
                                        layered_navigation_price_step_config: //input[@value='filter_price_range']
                                    dropdowns:
                                        display_mode: //select[@name='general[display_mode]']
                                        cms_block: //select[@name='general[landing_page]']
                                        is_anchor: //select[@name='general[is_anchor]']
                                        default_product_listing: //select[@name='general[default_sort_by]']
                                    fields:
                                        layered_navigation_price_step: //input[@name='general[filter_price_range]']
                                    multiselects:
                                        available_product_listing: //select[@name='general[available_sort_by][]']
                -
                    custom_design:
                        xpath: //a[@title='Custom Design']
                        fieldsets:
                            -
                                custom_design:
                                    xpath: //fieldset[contains(legend/span,'Custom Design')]
                                    dropdowns:
                                        use_parent_category_settings: //select[@name='general[custom_use_parent_settings]']
                                        apply_to_products: //select[@name='general[custom_apply_to_products]']
                                        custom_design: //select[@name='general[custom_design]']
                                        page_layout: //select[@name='general[page_layout]']
                                    fields:
                                        active_from: //input[@name='general[custom_design_from]']
                                        active_to: //input[@name='general[custom_design_to]']
                                        custom_layout_update: //textarea[@name='general[custom_layout_update]']
                -
                     category_products:
                        xpath: //a[@title='Category Products']
                        fieldsets:
                            -
                                category_products:
                                    xpath: //div[@id='catalog_category_products']
                                    buttons:
                                        reset_filter: //button[span='Reset Filter']
                                        search: //button[span='Search']
                                    dropdowns:
                                        category_products_massaction: //select[@id='filter_in_category']
                                    fields:
                                        category_products_search_id: //input[@id='catalog_category_products_filter_entity_id']
                                        category_products_search_name: //input[@id='catalog_category_products_filter_name']
                                        category_products_search_sku: //input[@id='catalog_category_products_filter_sku']
                                        category_products_search_price_from: //input[@id='catalog_category_products_filter_price_from']
                                        category_products_search_price_to: //input[@id='catalog_category_products_filter_price_to']
                                        category_products_search_position_from: //input[@id='catalog_category_products_filter_position_from']
                                        category_products_search_position_to: //input[@id='catalog_category_products_filter_position_to']
                                        category_products_position: %productXpath%//input[@name='position']
                -
                    google_experiment:
                        xpath: //a[@title='Category View Optimization']
                        fieldsets:
                            -
                                google_experiment:
                                    xpath: //fieldset[contains(legend/span,'Google Analytics Content Experiments Code')]
                                    fields:
                                        experiment_code: //textarea[@name='google_experiment[experiment_script]']
        buttons:
            reset: //button[span='Reset']
            save_category: //button[@data-ui-id='category-edit-form-save-button']
            delete_category: //button[span='Delete Category']
        messages:
            success_saved_category: //li[normalize-space(@class)='success-msg' and contains(.,'You saved the category.')]
            success_deleted_category: //li[normalize-space(@class)='success-msg' and contains(.,'You deleted the category.')]
            confirm_delete: Are you sure you want to delete this category?

edit_manage_categories:
    mca: catalog/category/edit/store/0/
    click_xpath: //div[@class='nav-bar']//a[contains(@href, '/catalog/category/')]
    title: Categories / Categories / Inventory / Products / Magento Admin
    uimap: *categoryUimap

edit_category:
    mca: catalog/category/edit/store/0/id/%id%/
    click_xpath: //div[@class='nav-bar']//a[contains(@href, '/catalog/category/')]
    title: %elementTitle% / Categories / Inventory / Products / Magento Admin
    uimap: *categoryUimap
