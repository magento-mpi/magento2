#
# {license_notice}
#
# @category    Magento
# @package     Mage_Customer
# @subpackage  functional_tests
# @copyright   {copyright}
# @license     {license_link}
#
---
my_orders_history:
    mca: sales/order/history/
    title: My Orders
    uimap: &my_orders_history-uimap
        form:
            fieldsets:
                -
                    orders:
                        xpath: //div[@class='column main']
                        links:
                            back: //a[span='Back']
                            view_order: //tr[td='%orderId%']//a[span='View Order']
                            reorder: //tr[td='%orderId%']//a[span='Reorder']
                        pageelements:
                            order_total: //tr[td='%orderId%']/td[span='%orderTotal%']

my_orders_history_index:
    mca: sales/order/history/%orderHistoryParam%/
    title: My Orders
    uimap: *my_orders_history-uimap

view_order:
    mca: sales/order/view/order_id/%id%/
    title: 'Order # %elementTitle%'
    uimap:
        form:
            fieldsets:
                -
                    order:
                        xpath: //div[@class='column main']
                        links:
                            reorder: //a[span='Reorder']
                            return: //a[span='Return']
                            print_order: //a[span='Print Order']
                            back_to_my_orders: //a[span='Back to My Orders']
                        pageelements:
                            product_table_head: //table[@id='my-orders-table']/thead
                            price_totals: //table[@id='my-orders-table']/tfoot
                            price_totals_line: //table[@id='my-orders-table']/tfoot/descendant::tr
                            product_line: //table[@id='my-orders-table']/tbody

my_product_reviews:
    mca: review/customer/
    title: My Product Reviews
    uimap:
        form:
            fieldsets:
                -
                    reviews:
                        xpath: //div[@class='my-account']
                        links:
                            #add_your_review: //a[text()='Add Your Review']
                            #reviews: //a[contains(text(),'Review(s)')]
                            back: //a[span='Back']
                        dropdowns:
                            show_per_page: //select[@id='limiter']
                -
                    product_review:
                        xpath: //tr[td//a='%productName%']
                        links:
                            product_name: //a[text()='%productName%']
                            view_details: //a[span='View Details']
                        pageelements:
                            review_details: //td[@class='col description']
                            review_date: //td[@class='col date']

my_product_reviews_details:
    mca: review/customer/view/id/%id%/
    title: Review Details
    uimap:
        form:
            fieldsets:
                -
                    review_details:
                        xpath: //div[div/h2[@class='product name']]
                        links:
                            back_to_my_reviews: //a[span='Back to My Reviews']
                        pageelements:
                            product_name: //h2[@class='product name']
                            review_summary: //div[@class='review title']
                            review_details: //div[@class='review content']
                            review_ratings: //div[@class='reviews summary item']
                            review_ratings_name: //div[@class='reviews summary item']//div[@class='label']
                            review_ratings_value: //div[@class='reviews summary item']//div[@class='rating']/span
                            #review_rate_value: //tr[th='%rateName%']//div[@class='rating']
                            #average_customer_rating: //div[@class='ratings']//div[@class='rating']

#product_review_details:
#    mca: review/product/view/id/%id%/
#    title: Magento Commerce
#    uimap: &product_review_details-uimap
#        form:
#            fieldsets:
#                -
#                    review_details:
#                        xpath: //div[@class='product-review']
#                        links:
#                            back_to_my_reviews: //p[@class='back-link']/a[@href]
#                        pageelements:
#                            product_name: //h2[@class='product-name']
#                            review_details: //div[@class='product-details']/dl/dd
#                            review_rate_value: //tr[th='%rateName%']//div[@class='rating']
#                            average_customer_rating: //div[@class='ratings']//div[@class='rating']
#
#product_review_details_store_view:
#    mca: review/product/view/id/%id%/?___store=%storeCode%&___from_store=%fromStore%
#    title: Magento Commerce
#    uimap: *product_review_details-uimap