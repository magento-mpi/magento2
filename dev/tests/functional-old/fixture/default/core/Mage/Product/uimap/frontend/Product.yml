#
# {license_notice}
#
# @category    Magento
# @package     Mage_Product
# @subpackage  functional_tests
# @copyright   {copyright}
# @license     {license_link}
#
---
#
product_page:
    mca: %productUrl%.html
    title: %elementTitle%
    uimap: &product
        form:
            fieldsets:
                -
                    product_info:
                        xpath: //div[@class='product info main']
                        buttons:
                            customize_and_add_to_cart: //button[span='Customize and Add to Cart']
                            #close: //a[@id='map-popup-close']
                        fields:
                            product_qty: //input[@id='qty']
                            grouped_subproduct_qty: //table[@id='super-product-table']//tr[td/strong='%subproductName%']//input[@title='Qty']
                        links:
                            add_to_wishlist: //a[span='Add to Wishlist']
                            add_to_compare: //a[span='Add to Compare']
                            email_to_friend: //a[span='Email to a Friend']
                            first_review: //a[normalize-space(text())='Be the first to review this product']
                            add_your_review: //a[text()='Add Your Review']
                            reviews: //a[span='Review(s)']
                            #downloadable_sample: //dl[@class='item-options']/dd/a[normalize-space(text())='%samplesTitle%']
                        pageelements:
                            product_name: //div[@class='page title product']//span
                            product_name_header: //div[@class='page title product']/h1[span='%productName%']
                            availability: //p[@title='Availability']
                            #samples_title: //dl[@class='item-options']/dt[normalize-space(text())='%samplesTitle%']
                            #as_low_as: //div[@class='product-shop']//p[@class='minimal-price']/span
                            #short_description: //div[@class='short-description']//div[@class='std']
                            #price_box_map_info: //div[@class='price-box map-info']//span[@class='msrp-price-hide-message'and contains(.,'See price before order confirmation.')]
                            #map_popup: //div[@id='map-popup']
                            product_custom_option_head_order: //dt[%rowNumber%][contains(label,'%title%')]
                -
                    product_prices:
                        xpath: //div[@class='price-box']
                        #pageelements:
                            #price_regular: //span[@class='regular-price']
                            #price_old: //p[@class='old-price']/span[@class='price']
                            #price_special: //p[@class='special-price']/span[@class='price']
                -
                    product_tier_price:
                        xpath: //div[@class='product-shop']//ul[@class='tier-prices product-pricing']//li
                #-
                    #details:
                        #xpath: //dd[@id='product.info.description']
                        #pageelements:
                            #description: //div[@class='value']
                -
                    customize_product_info: &customize_product_info-fieldset
                        xpath: //div[@class='bundle options container']
                        fields:
                            bundle_item_qty: //input[@id='qty']
                #-
                    #product_custom_option_head:
                        #xpath: //dt[contains(label,'%title%')]
                        #pageelements:
                            #custom_option_non_select: //span[normalize-space(text())='%price%']
                -
                    product_custom_option:
                        xpath: //div[label/span='%title%']
                        buttons:
                            custom_option_file: //input[@type='file']
                        checkboxes:
                            custom_option_check_attribute: //input
                            custom_option_checkbox: //div[contains(label/span,'%optionTitle%')]//input[@type='checkbox']
                        dropdowns:
                            custom_option_dropdown: //select
                            custom_option_day: "//select[contains(@name,'[day]')]"
                            custom_option_month: //select[contains(@id,'month')]
                            custom_option_year: //select[contains(@id,'year')]
                            custom_option_hour: //select[contains(@id,'hour')]
                            custom_option_minute: //select[contains(@id,'minute')]
                            custom_option_day_part: //select[contains(@id,'day_part')]
                        fields:
                            custom_option_field: //input[@type='text']
                            custom_option_area: //textarea
                        links:
                            downloadable_link: //a[text()='%linkTitle%']
                        multiselects:
                            custom_option_multiselect: //select[@multiple='multiple']
                        radiobuttons:
                            custom_option_radiobutton: //div[contains(label/span,'%optionTitle%')]//input[@type='radio']

                #-
                    #additional_info:
                        #xpath: //div[h2[text()='Additional Information']]
                -
                    related:
                        xpath: //div[@class='block related']
                        links:
                            #related_select_all: //button[text()='select all']
                            related_product: //a[normalize-space(text())='%productName%']
                -
                    related_product:
                        xpath: //div[@class='block related']//div[div//a[@title='%productName%']]
                        links:
                            related_add_to_wishlist: //a[@title='Add to Wishlist']
                        #checkboxes:
                            #select_related_product: /input[@name='related_products[]']
                        #pageelements:
                            #related_price_regular: //span[@class='regular-price']
                            #related_price_old: //p[@class='old-price']
                            #related_price_special: //p[@class='special-price']
                            #related_price_excluding_tax: "[not(*//p[@class='special-price'])]//span[@class='price-excluding-tax']"
                            #related_price_including_tax: "[not(*//p[@class='special-price'])]//span[@class='price-including-tax']"
                            #related_price_special_excluding_tax: //p[@class='special-price']/span[@class='price-excluding-tax']
                            #related_price_special_inlcuding_tax: //p[@class='special-price']/span[@class='price-including-tax']
                            #related_as_low_as: //a[@class='minimal-price-link']
                            #related_as_low_as_excl_tax: //a[@class='minimal-price-link']/span[@class='price-excluding-tax']
                            #related_as_low_as_incl_tax: //a[@class='minimal-price-link']/span[@class='price-including-tax']
                -
                    upsells:
                        xpath: //div[@class='block upsell']
                        links:
                            up_sells_product: //a[normalize-space(text())='%productName%']
                -
                    upsells_product:
                        xpath: //div[@class='block upsell']//div[div//a[@title='%productName%']]
                        #pageelements:
                            #upsell_price_regular: //span[@class='regular-price']
                            #upsell_price_old: //p[@class='old-price']
                            #upsell_price_special: //p[@class='special-price']
                            #upsell_price_excluding_tax: "[not(*//p[@class='special-price'])]//span[@class='price-excluding-tax']"
                            #upsell_price_including_tax: "[not(*//p[@class='special-price'])]//span[@class='price-including-tax']"
                            #upsell_price_special_excluding_tax: //p[@class='special-price']/span[@class='price-excluding-tax']
                            #upsell_price_special_inlcuding_tax: //p[@class='special-price']/span[@class='price-including-tax']
                            #upsell_as_low_as: //a[@class='minimal-price-link']
                            #upsell_as_low_as_excl_tax: //a[@class='minimal-price-link']/span[@class='price-excluding-tax']
                            #upsell_as_low_as_incl_tax: //a[@class='minimal-price-link']/span[@class='price-including-tax']
                -
                    add_customer_review:
                        xpath: //dd[@id='product_reviews']/div[@class='block add review']
                        #dropdowns:
                            #show_per_page: //div[@class='limiter']/select
                        buttons:
                            submit_review: //button[span='Submit Review']
                        fields:
                            nickname: //input[@id='nickname_field']
                            summary_of_review: //input[@id='summary_field']
                            review: //textarea[@id='review_field']
                        pageelements:
                            select_rate: //label[@for='%rateName%_%rateId%']
                -
                    customer_review:
                        xpath: //div[@id='customer-reviews']//li[div/p/strong='%reviewerName%']
                        #links:
                            #review_summary: //dt[span='%reviewerName%']/a
                        pageelements:
                            review_reviewer_name: //p[@class='author']/strong
                            review_post_date: //time
                            review_summary: //div[@class='review title']
                            review_details: //div[@class='review content']
                            review_ratings: //div[@class='reviews summary']
                            review_ratings_name: //div[@class='reviews summary']//span[@class='label']
                            review_ratings_value: //div[@class='reviews summary']//div[@class='rating']/span
                            #review_details_ratings_line: //dt[span='%reviewerName%']/following-sibling::dd[1]/table//th
                            #review_rate_name: //dt[span='%reviewerName%']/following-sibling::dd[1]//th[text()='%rateName%']
                            #review_rate_value: //dt[span='%reviewerName%']/following-sibling::dd[1]//tr[th='%rateName%']//div[@class='rating']
                            #review_table_rate_name: //table[@id='product-review-table']//th[text()='%rateName%']

        buttons:
            add_to_cart: //div[@class='box tocart']//button[span='Add to Cart']
        messages: &productMessages
            accepted_review: //li[normalize-space(@class)='success-msg' and contains(.//span,'Your review has been accepted for moderation.')]
            specify_product_config_option: //li[normalize-space(@class)='notice-msg' and contains(.,"Please specify the product's option(s).")]
            specify_product_link: //li[normalize-space(@class)='notice-msg' and contains(.,"Please specify product link(s).")]
            specify_product_option: //li[normalize-space(@class)='notice-msg' and contains(.,"Please specify product option(s).")]
            specify_product_quantity: //li[normalize-space(@class)='notice-msg' and contains(.,"Please specify the quantity of product(s).")]
            specify_product_required_option: //li[normalize-space(@class)='notice-msg' and contains(.,"Please specify the product's required option(s).")]
            specify_product_links: //li[normalize-space(@class)='error-msg' and contains(.,'Please specify product link(s) for "%productName%".')]
            specify_product_options: //li[normalize-space(@class)='error-msg' and contains(.,' option(s) for "%productName%".')]

product_configure_wishlist:
    mca: wishlist/index/configure/id/%id%/
    title: %elementTitle%
    uimap: *product

product_page_id:
    mca: catalog/product/view/id/%id%/
    title: %productTitle%
    uimap: *product
