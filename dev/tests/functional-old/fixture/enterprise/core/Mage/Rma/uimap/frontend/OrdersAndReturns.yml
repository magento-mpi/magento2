# Magento
#
# {license_notice}
#
# @category    Magento
# @package     Magento
# @subpackage  functional_tests
# @copyright   {copyright}
# @license     {license_link}
#
---
#Enter Form to Orders Adn Return
orders_and_returns:
    mca: sales/guest/form/
    title: Orders and Returns
    uimap:
        form:
            fieldsets:
                -
                    orders_and_returns_form:
                        xpath: //form[@id='oar-widget-orders-and-returns-form']
                        fields:
                            order_id: //input[@id='oar-order-id']
                            billing_last_name: //input[@id='oar-billing-lastname']
                            email: //input[@id='oar_email']
                            zip: //input[@id='oar_zip']
                        dropdowns:
                            search_type_id: //select[@id='quick-search-type-id']
                        buttons:
                            continue: //button[span='Continue']
        messages: &rmaMessages
            incorrect_data: //li[normalize-space(@class)='error-msg' and contains(.,'You entered incorrect data. Please try again.')]
            empty_order_id: //*[@id='advice-required-entry-oar_order_id']
            empty_billing_last_name: //*[@id='advice-required-entry-oar_billing_lastname']
            empty_email: //*[@id='advice-required-entry-oar_email']
            empty_zip: //*[@id='advice-required-entry-oar_zip']
            specify_product_quantity: //li[normalize-space(@class)='error-msg' and contains(.,'Quantity of %productName% is greater than you can return.')]
            successfully_submitted_return: "//li[normalize-space(@class)='success-msg' and contains(.,'You submitted Return #')]"

guest_view_order:
    mca: sales/guest/view/
    title: 'Order # %elementTitle%'
    uimap:
        form:
            fieldsets:
                -
                    page_title:
                        xpath: //div[@class='order details view']
                        links:
                            reorder: //a[span='Reorder']
                            print_order: //a[span='Print Order']
                            return: //a[span='Return']
        messages: *rmaMessages

create_new_return:
    mca: rma/returns/create/order_id/%id%/
    title: Create New Return
    uimap: &create_new_return-uimap
        form:
            fieldsets:
                -
                    create_rma:
                        xpath: //*[@id='rma_create_form']
                        links:
                            back: //a[span='Back']
                            add_item_to_return: //a[span='Add Item To Return']
                        fields:
                            email: //input[@id='email']
                            quantity: //input[@id='items:qty_requested%param%']
                            comment: //textarea[@id='rma_comment']
                        dropdowns:
                            item: //select[@id='items:item%param%']
                            resolution: //select[@id='items:resolution%param%']
                            condition: //select[@id='items:condition%param%']
                            reason: //select[@id='items:reason%param%']
                        buttons:
                            submit: //button[@id='submit.save']
                        pageelements:
                            custom_items_attribute: //*[@id='items:%attributeCode%%param%']
        messages: *rmaMessages

guest_create_rma:
    mca: rma/guest/create/order_id/%id%/
    title: Create New Return
    uimap: *create_new_return-uimap

my_returns:
    mca: rma/returns/history/
    title: My Returns
    uimap:
        messages: *rmaMessages

guest_view_returns:
    mca: rma/guest/returns/
    title: 'Order # %elementTitle%'
    uimap:
        messages: *rmaMessages