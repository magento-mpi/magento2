#
# {license_notice}
#
# @category    Magento
# @package     Mage_Checkout
# @subpackage  functional_tests
# @copyright   {copyright}
# @license     {license_link}
#
---
#Manage Sales Orders and related pages
# 'New Order' page
create_order_for_new_customer:
    uimap: &create_order-uimap
        form:
            fieldsets:
                -
                    add_to_cart_by_sku: &add_to_cart_by_sku-fieldset
                        xpath: //div[@id='order-additional_area']
                        buttons:
                            submit_sku_form: //button[span='Add to Order']
                            add_row: //button[@data-ui-id='additional-area-schedule-block-addbutton']
                            remove_row: //tr[%number%]//button[@data-ui-id='additional-area-schedule-block-deletebutton']
                            reset_file: //button[@class='button btn-reset']
                        fields:
                            sku: //tr[%number%]//input[@name='sku']
                            qty: //tr[%number%]//input[@name='qty']
                            sku_upload: //*[@id='sku_upload']
                        pageelements:
                            note_csv: //*[@class='note']
                            table_lines: //table/tbody/tr
                -
                    order_items_ordered: &order_items_ordered-fieldset
                        pageelements:
                            sku_product_added: //*[@id='order-items_grid' and contains(.,'%productData%')]
                        buttons:
                            add_products_by_sku: //button[span='Add Products By SKU']
                -
                    gift_options: &gift_options-fieldset
                        dropdowns:
                            item_gift_wrapping_design: //select[@id='giftwrapping_design_item']
                        pageelements:
                            item_gift_wrapping_block: //div[@id='wrapping-item-container' and h4='Gift Wrapping']
                            item_gift_wrapping_price: //div[@class='gift-wrapping-design']//span[@class='price']//span[@class='price']
                            item_gift_wrapping: //div[@class='gift-wrapping-design']/span
                -
                    gift_options_for_order: &gift_options_for_order-fieldset
                        dropdowns:
                            order_gift_wrapping_design: //select[@id='giftwrapping_design']
                        checkboxes:
                            add_printed_card: //input[@id='add-printed-card']
                            send_gift_receipt: //input[@id='allow-gift-receipt']
                        pageelements:
                            printed_card_price: //*[@id='card-price-box' or @id='price-card-box']//span[@class='price']
                            order_gift_wrapping_price: //*[@id='wrapping-price-box']//span[@id='wrapping-price']
                            order_gift_wrapping_block: //fieldset[legend='Gift Wrapping for the Entire Order']
                            order_gift_wrapping: //div[@class='gift-wrapping-form']/span
                -
                    order_totals: &order_totals-fieldset
                        pageelements:
                            total_printed_card_price: //tr[normalize-space(td)='Printed Card']/td/span

create_order_for_existing_customer:
    uimap: *create_order-uimap

reorder_create_new_order:
    uimap: *create_order-uimap

edit_order:
    uimap: *create_order-uimap

view_order:
    uimap:
        form:
            tabs:
                -
                    information:
                        fieldsets:
                            -
                                gift_options: *gift_options-fieldset
                            -
                                gift_options_for_order: *gift_options_for_order-fieldset
                            -
                                order_totals: *order_totals-fieldset

create_order_for_product_added_by_sku:
    mca: sales_order_create/processData/
    title: New Order / Orders / Operations / Sales / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    add_to_cart_by_sku: *add_to_cart_by_sku-fieldset
                -
                    order_items_ordered: *order_items_ordered-fieldset
                -
                    gift_options: *gift_options-fieldset
                -
                    sku_error_table:
                        xpath: //*[@id='order-errors']//*[@id='sku_errors']
                        fields:
                            qty: //tr[%rowIndex%]//*[@name='qty']
                        buttons:
                            configure_item: //*[@id='sku_%sku%']//*[@class='sku-configure-button']/button
                            remove_item: //tr[%rowIndex%]//*[@class='action- scalable delete']
                        pageelements:
                            price_in_error_table: //tr[%rowIndex]//*[@class='price']
                            error_table_grid: //table[@id='sku_errors_table']/tbody/tr
                            error_table_head: //*[@id='sku_errors_table']/thead
                            error_table_line: //*[@id='sku_errors_table']/tbody/tr
                    gift_options_for_order: *gift_options_for_order-fieldset
                -
                    order_totals: *order_totals-fieldset
                -
                    products_requiring_attention:
                        xpath: //div[@id='order-errors']/div
                        buttons:
                            remove_all: //button[@title='Remove All']
                            add_to_cart_from_error: //button[@title='Add Products to Order']
                            configure_item: //*[@id='sku_%sku%']//button[@title='Configure']
                            remove_item: //tr[%rowIndex%]//button[@title='Remove']
                        pageelements:
                            price_in_error_table: //tr[%rowIndex]//*[@class='price']
                            error_table_head: //table[@id='sku_errors_table']/thead
                            error_table_line: //table[@id='sku_errors_table']/tbody/tr
        messages:
            qty_sku_invalid_number: //*[@class='notice']//div[contains(.,'Please enter a valid number in the "Qty" field.')]
            sku_assigned_another_website: //*[@class='notice']//div[contains(.,'The product is assigned to another website.')]
            sku_not_found: //*[@class='notice']//div[contains(.,'SKU not found in catalog.')]
            specify_option: //*[@class='notice']//div[contains(.,"Please specify the product's options.")]
            required_attention_product: //div[contains(span,'%number% product(s) require attention.')]/span
            disabled_product: //*[@class='error']//div[contains(.,'This product is disabled.')]
            out_of_stock: //*[@class='error']//div[contains(.,'This product is out of stock.')]
            qty_increment: //*[@class='error' and contains(.,'You can buy this product only in increments of %qty%.')]
            qty_not_available: //*[@class='notice' and contains(.,'We don't have as many "%productName%" as you requested.')]
            max_qty: //*[@class='error' and contains(.,'The most you may purchase is %qty%.')]
            min_qty: //*[@class='error' and contains(.,'The fewest you may purchase is %qty%.')]