#
# {license_notice}
#
# @category    Magento
# @package     Mage_Attributes_CustomerAttribute
# @subpackage  functional_tests
# @copyright   {copyright}
# @license     {license_link}
#
---

# Manage Customer Attributes page
manage_customer_attributes:
    mca: customer_attribute/
    click_xpath: //ul[@id='nav']//a[contains(@href, 'customer_attribute')]
    title: Manage Customer Attributes / Stores / Magento Admin
    uimap:
        form: &searchCustomerAttributeGrid
            fieldsets:
                -
                    attributes_grid:
                        xpath: //div[@id='customerAttributeGrid']
                        buttons:
                            reset_filter: //button[span='Reset Filter']
                            search: //button[span='Search']
                        fields:
                            attribute_code: //input[@name='attribute_code']
                            attribute_label: //input[@name='frontend_label']
                        dropdowns:
                            required: //select[@name='is_required']
                            system: //select[@name='is_user_defined']
                            visible: //select[@name='is_visible']
                            sort: //input[@name='sort_order']
                        pageelements:
                            attributes_grid_head: //div[@id='customerAttributeGrid']//thead/tr[@class='headings']
        buttons:
            add_new_attribute: //button[span='Add New Attribute' or span='Add New']
        messages: &customerAttributeMessages
            success_deleted_attribute: //li[normalize-space(@class)='success-msg' and contains(.,'The customer attribute has been deleted.')]
            exists_attribute_code: //span[@data-ui-id='messages-message-error' and contains(.,'Attribute with the same code already exists.')]
            success_saved_attribute: //li[normalize-space(@class)='success-msg' and contains(.,'The customer attribute has been saved.')]
            wrong_length_attribute_code: //label[normalize-space(@class)='mage-error' and contains(.,'Maximum length of this field must be equal or less than 21 symbols.')]
            invalid_attribute_code: //label[normalize-space(@class)='mage-error' and contains(.,'Please use only letters (a-z), numbers (0-9) or underscore(_) in this field, first character should be a letter.')]
            error_invalid_position: //div[@id='advice-validate-digits-position']
            invalid_lines_range: //label[normalize-space(@class)='mage-error' and contains(.,'The value is not within the specified range.')]
            use_numbers_only: //label[normalize-space(@class)='mage-error' and contains(.,'Please enter a valid number in this field.')]
            delete_confirm_message: Are you sure you want to do this?

# Add New Customer Attribute page
new_customer_attribute:
    mca: customer_attribute/new/
    title: New Attribute / Manage Customer Attributes / Stores / Magento Admin
    uimap:
        form: &newCustomerAttributeForm
            tabs:
                -
                    properties: &customerAttributeProperties
                        xpath: //a[@id='customer_attribute_tabs_general']
                        fieldsets:
                            -
                                attribute_properties:
                                    xpath: //fieldset[@id='base_fieldset']
                                    dropdowns:
                                        input_type: //select[@id='frontend_input']
                                        default_yesno_value: "//select[@id='default_value_yesno']"
                                        input_validation: "//select[@id='input_validation']"
                                        values_required: //select[@id='is_required']
                                        input_output_filter: "//select[@id='input_filter']"
                                        use_customer_segment: //select[@id='is_used_for_customer_segment']
                                    fields:
                                        attribute_label: //input[@name='frontend_label[0]']
                                        attribute_code: //input[@id='attribute_code']
                                        default_value: "//input[@id='default_value_text']"
                                        default_text_field_value: "//textarea[@id='default_value_textarea']"
                                        lines_count: "//input[@id='multiline_count']"
                                        minimum_text_lenght: "//input[@id='min_text_length']"
                                        maximum_text_lenght: "//input[@id='max_text_length']"
                                        default_data_value: "//input[@id='default_value_date']"
                                        minimal_data_value: "//input[@id='date_range_min']"
                                        maximum_data_value: "//input[@id='date_range_max']"
                                        maximum_file_size: "//input[@id='max_file_size']"
                                        file_extensions: "//input[@id='file_extensions']"
                                        maximum_image_file_size: "//input[@id='max_file_size']"
                                        maximum_image_width: "//input[@id='max_image_width']"
                                        maximum_image_height:  "//input[@id='max_image_heght']"
                                    required: [attribute_code, lines_count]
                            -
                                frontend_properties:
                                    xpath: //fieldset[@id='front_fieldset']
                                    dropdowns:
                                        show_on_frontend: //select[@id='is_visible']
                                    fields:
                                        sort_order: //input[@id='sort_order']
                                    multiselects:
                                        forms_to_use: //select[@id='used_in_forms']
                                    required: [sort_order]
                -
                    manage_labels_options:
                        xpath: //a[@id='customer_attribute_tabs_options']
                        fieldsets:
                            -
                                manage_titles:
                                    xpath: //div[@id="customer_attribute_tabs_options_content"]//table[@id="attribute-labels-table"]
                                    fields:
                                        titles_by_store_name: //td[%storeViewNumber%]/input
                                    required: [attribute_label]
                            -
                                manage_options:
                                    xpath: "//div[@id='manage-options-panel' and not(@style='display: none;')]"
                                    buttons:
                                        add_option: //button[@id='add_new_option_button']
                                        delete_option: //td[contains(input/@name,'option[delete][option_%fieldOptionNumber%]')]/button
                                    checkboxes:
                                        is_default: //input[@name='default[]' and @value='option_%fieldOptionNumber%']
                                    fields:
                                        admin_option_name: //input[@name='option[value][option_%fieldOptionNumber%][0]']
                                        store_view_titles: //input[@name='option[value][option_%fieldOptionNumber%][1]']
                                        options_by_store_name: //td[contains(input/@name,'option[value][option_%fieldOptionNumber%]')][%storeViewNumber%]/input
                                        option_orders: //td[@class='col-draggable']/input
                                    pageelements:
                                        manage_options_option: //*[@data-role='options-container']/tr
                                        is_default_option_index: //tr[contains(@class,'option-row')][%index%]//input[@class='input-radio']
                                    required: [admin_option]
        buttons:
            back: //button[@id='back']
            reset: //button[@id='reset']
            save_attribute: //button[@id='save']
            save_and_continue_edit: //button[@id='save_and_edit_button']
        messages: *customerAttributeMessages

# Manage customer Attributes page
edit_customer_attribute:
    mca: customer_attribute/edit/attribute_id/%id%/
    title: %elementTitle% / Manage Customer Attributes / Stores / Magento Admin
    uimap:
        form: &editCustomerAttributeForm
            tabs:
                -
                    properties: *customerAttributeProperties
                -
                    manage_labels_options:
                        xpath: //a[@id='customer_attribute_tabs_options']
                        fieldsets:
                            -
                                manage_titles:
                                    xpath: //div[@id="customer_attribute_tabs_options_content"]//table[@id="attribute-labels-table"]
                                    fields:
                                        titles_by_store_name: //td[%storeViewNumber%]/input
                                    required: [attribute_label]
                            -
                                manage_options:
                                    xpath: "//div[@id='manage-options-panel' and not(@style='display: none;')]"
                                    buttons:
                                        add_option: //button[@id='add_new_option_button']
                                        delete_option: //td[contains(input/@name,'option[delete][%fieldOptionNumber%]')]/button
                                    checkboxes:
                                        is_default: //input[@name='default[]' and @value='%fieldOptionNumber%']
                                    fields:
                                        admin_option_name: //input[@name='option[value][%fieldOptionNumber%][0]']
                                        options_by_store_name: //td[contains(input/@name,'option[value][%fieldOptionNumber%]')][%storeViewNumber%]/input
                                        option_orders: //tr/td[3]/input
                                    pageelements:
                                        manage_options_option: //*[@data-role='options-container']/tr
                                        is_default_option_index: //tr[contains(@class,'option-row')][%index%]//input[@class='input-radio']
                                    required: [admin_option]
        buttons:
            delete_attribute: //button[span='Delete Attribute']
            back: //button[@id='back']
            reset: //button[@id='reset']
            save_attribute: //button[@id='save']
            save_and_continue_edit: //button[@id='save_and_edit_button']
        messages: *customerAttributeMessages
