#
# {license_notice}
#
# @category    Magento
# @package     Mage_StatusManagement
# @subpackage  functional_tests
# @copyright   {copyright}
# @license     {license_link}
#
--- #Manage Statuses and related pages

# 'Manage Statuses' page
order_statuses:
    mca: sales_order_status/
    click_xpath: //*[@id='nav']//a[contains(@href, 'sales_order_status')]
    title: Order Status / Settings / Stores / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    order_statuses:
                        xpath: //div[@id='sales_order_status_grid']
                        buttons:
                            reset_filter: //button[span='Reset Filter']
                            search: //button[span='Search']
                            
                        links:
                            select_store_view: //td[normalize-space(@class)='a-left last']/a[text()='%NAME%']
                        fields:
                            status_code: //input[@id='sales_order_status_grid_filter_status']
                            status_label: //input[@id='sales_order_status_grid_filter_label']
                            status: //input[@id='sales_order_status_grid_filter_state']
                        dropdowns:
                           default_status: //select[@id='sales_order_status_grid_filter_is_default']
        buttons:
            create_new_status: //button[span='Create New Status']
            assign_status_to_state: //button[span='Assign Status to State']
        messages:
            success_saved_status:  //li[normalize-space(@class)='success-msg' and contains(., 'You have saved the order status.')]
            success_assigned_status:  //li[normalize-space(@class)='success-msg' and contains(., 'You have saved the order status.')]
            search_no_result: //td[@class='empty-text a-center' and contains(., "We couldn't find any records.")]
            success_search: //table[@id='sales_order_status_grid_table']//td[contains(., 'Generic Label')]

# 'New Order Status' Page
new_order_status:
    mca: sales_order_status/new/
    title: Create New Order Status / Order Status / Settings / Stores / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    order_status_info:
                        xpath: //*[@id='base_fieldset']
                        fields:
                            status_code: //input[@id='status']
                            status_label: //input[@id='label']
                        required: [status_code, status_label]
                -
                    store_view_specific_labels:
                        xpath: //*[@id='store_labels_fieldset']
        buttons:
            back: //button[span='Back']
            reset: //button[span='Reset']
            save_status: //button[@data-ui-id='sales-order-status-new-container-save-button']
        messages:
            success_saved_status:  //li[normalize-space(@class)='success-msg' and contains(., 'You have saved the order status.')]
            order_status_exist: //li[normalize-space(@class)='error-msg' and contains(., 'We found another order status with the same order status code.')]
            empty_required_field: //label[@class='mage-error' and @for='%fieldId%' and contains(.,'This is a required field.')]
            wrong_status_view_code: //label[@class='mage-error' and @for='%fieldId%' and contains(.,'Please use only letters (a-z), numbers (0-9) or underscore(_) in this field, first character should be a letter.')]
            
# 'Assign Order Status to State' Page
assign_order_status:
    mca: sales_order_status/assign/
    title: Assign Order Status to State / Order Status / Settings / Stores / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    assignment_information:
                        xpath: //form[@id='edit_form']
                        
                        dropdowns:
                            order_status: //select[@id='status']
                            order_state: //select[@id='state']
                        checkboxes:
                            use_order_status_as_default: //input[@id='is_default']
                        required: [order_status, order_state]
        buttons:
            back: //button[span='Back']
            reset: //button[span='Reset']
            save_status_assignment: //button[@data-ui-id='sales-order-status-assign-container-save-button']
        checkboxes:
            use_order_status_as_default: //input[@id='is_default']
        messages:
            empty_required_field: //label[@class='mage-error' and @for='%fieldId%' and contains(.,'This is a required field.')]
            succes_assigned_status: //li[normalize-space(@class)='success-msg' and contains(., 'You have assigned the order status.')]
