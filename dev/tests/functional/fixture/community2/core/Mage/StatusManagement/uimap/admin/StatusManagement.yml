#
# {license_notice}
#
# @category    Magento
# @package     Mage_StatusManagement
# @subpackage  functional_tests
# @copyright   {copyright}
# @license     {license_link}
#
--- #Manage Statuses and related pages
#
order_statuses:
    mca: sales_order_status/
    click_xpath: //ul[@id='nav']//a[contains(@href, 'sales_order_status')]
    title: Order Statuses / Sales / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    order_statuses:
                        xpath: //div[@id='sales_order_status_grid']
                        buttons:
                            reset_filter: //button[span='Reset Filter']
                            search: //button[span='Search']
                            
                        links:
                            select_store_view: //td[normalize-space(@class)='a-left last']/a[text()='%NAME%']
                        fields:
                            status_code: //input[@id='status']
                            status_label: //input[@id='label']
                            status: //input[@id='sales_order_status_grid_filter_label']
                            
        buttons:
            create_new_status: //button[span='Create New BugsCoverage']
            assign_status_to_state: //button[span='Assign BugsCoverage to State']
            
            
        messages:
            success_saved_status:  //li[normalize-space(@class)='success-msg' and contains(., 'The order status has been saved')]
            success_assigned_status:  //li[normalize-space(@class)='success-msg' and contains(., 'The order status has been assigned')]
            search_no_result: //td[@class='empty-text a-center' and contains(., 'No records found')]
            success_search: //table[@id='sales_order_status_grid_table']//td[contains(., 'Generic Label')]

# 'New Order BugsCoverage' Page
new_order_status:
    mca: sales_order_status/new/
    title: Create New Order BugsCoverage / Sales / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    order_status_info:
                        xpath: //form[@id='edit_form']
                        
                        fields:
                            status_code: //input[@id='status']
                            status_label: //input[@id='label']
                        required: [status_code, status_label]
        buttons:
            back: //button[span='Back']
            reset: //button[span='Reset']
            save_status: //button[span='Save BugsCoverage']
        messages:
            success_saved_status:  //li[normalize-space(@class)='success-msg' and contains(., 'The order status has been saved')]
            order_status_exist: //li[normalize-space(@class)='error-msg' and contains(., 'Order status with the same status code already exist')]
            empty_required_field: "%fieldXpath%/following-sibling::*[contains(., 'This is a required field.') and not(contains(@style,'display: none;'))]"
            wrong_status_view_code: //div[@id='advice-validate-code-status']
            
# 'Assign Order BugsCoverage to State' Page
assign_order_status:
    mca: sales_order_status/assign/
    title: Assign Order BugsCoverage to State / Sales / Magento Admin
    uimap:
        form:
            fieldsets:
                -
                    assignment_information:
                        xpath: //form[@id='edit_form']
                        
                        dropdowns:
                            order_status: //select[@id='status']
                            order_state: //select[@id='state']
                        checkboxes:
                            use_order_status_as_default: //input[@id='is_default']
                        required: [order_status, order_state]
        buttons:
            back: //button[span='Back']
            reset: //button[span='Reset']
            save_status_assignment: //button[span='Save BugsCoverage Assignment']
        messages:
            empty_required_field: "%fieldXpath%/following-sibling::*[contains(., 'This is a required field.') and not(contains(@style,'display: none;'))]"
            succes_assigned_status: //li[normalize-space(@class)='success-msg' and contains(., 'The order status has been assigned')]
